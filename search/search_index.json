{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Trackteur - Un projet de traceur GPS DIY Ce projet documente la cr\u00e9ation et le d\u00e9ploiement d'un syst\u00e8me de suivi GPS complet, depuis le mat\u00e9riel jusqu'\u00e0 l'infrastructure serveur. Vue d'ensemble de l'infrastructure L'architecture est con\u00e7ue pour \u00eatre r\u00e9siliente et \u00e9volutive, en s'appuyant sur des services cloud modernes pour le routage et l'h\u00e9bergement. graph LR A[Traceur GPS DIY] --envoie les donn\u00e9es--> B[endpoint.domain.com] subgraph Cloudflare B C[Cloudflare Worker] end B --> C subgraph \"Serveurs Traccar (R\u00e9plication)\" D[Serveur 1 <br> traccar1.domain.com] E[Serveur 2 <br> traccar2.domain.com] F[Serveur 3 <br> traccar3.domain.com] end C --route le trafic vers--> D C --route le trafic vers--> E C --route le trafic vers--> F Composants Traceur GPS DIY : Un appareil bas\u00e9 sur un microcontr\u00f4leur (ESP32) \u00e9quip\u00e9 d'un module GPS et cellulaire (GSM/LTE) pour collecter et transmettre les coordonn\u00e9es en temps r\u00e9el. Cloudflare Worker : Agit comme un point d'entr\u00e9e unique ( endpoint.domain.com ) et r\u00e9plique les donn\u00e9es vers plusieurs destinations. Il re\u00e7oit les donn\u00e9es du traceur et les transmet simultan\u00e9ment \u00e0 tous les serveurs Traccar configur\u00e9s, assurant une redondance des donn\u00e9es. Serveurs Traccar : Trois instances ind\u00e9pendantes du serveur Traccar, chacune fonctionnant sur son propre sous-domaine ( traccar1.domain.com , etc.). Chaque serveur expose : Le port 5055 pour le protocole OsmAnd, utilis\u00e9 par les traceurs. Le port 8082 pour l'interface web de Traccar. Navigation Fabrication du traceur GPS : Instructions pour assembler le mat\u00e9riel. Programmation du Liligo A7670G : Guide pour flasher le firmware du traceur. D\u00e9ploiement des serveurs Traccar : Comment mettre en place les serveurs Traccar avec Docker. Configuration de Cloudflare : Mise en place du tunnel et du Worker. Cr\u00e9ation de carte SIM Hologram : Pour la connectivit\u00e9 cellulaire. Installation dans un v\u00e9hicule : Conseils pour l'installation physique du traceur.","title":"Accueil"},{"location":"#trackteur-un-projet-de-traceur-gps-diy","text":"Ce projet documente la cr\u00e9ation et le d\u00e9ploiement d'un syst\u00e8me de suivi GPS complet, depuis le mat\u00e9riel jusqu'\u00e0 l'infrastructure serveur.","title":"Trackteur - Un projet de traceur GPS DIY"},{"location":"#vue-densemble-de-linfrastructure","text":"L'architecture est con\u00e7ue pour \u00eatre r\u00e9siliente et \u00e9volutive, en s'appuyant sur des services cloud modernes pour le routage et l'h\u00e9bergement. graph LR A[Traceur GPS DIY] --envoie les donn\u00e9es--> B[endpoint.domain.com] subgraph Cloudflare B C[Cloudflare Worker] end B --> C subgraph \"Serveurs Traccar (R\u00e9plication)\" D[Serveur 1 <br> traccar1.domain.com] E[Serveur 2 <br> traccar2.domain.com] F[Serveur 3 <br> traccar3.domain.com] end C --route le trafic vers--> D C --route le trafic vers--> E C --route le trafic vers--> F","title":"Vue d'ensemble de l'infrastructure"},{"location":"#composants","text":"Traceur GPS DIY : Un appareil bas\u00e9 sur un microcontr\u00f4leur (ESP32) \u00e9quip\u00e9 d'un module GPS et cellulaire (GSM/LTE) pour collecter et transmettre les coordonn\u00e9es en temps r\u00e9el. Cloudflare Worker : Agit comme un point d'entr\u00e9e unique ( endpoint.domain.com ) et r\u00e9plique les donn\u00e9es vers plusieurs destinations. Il re\u00e7oit les donn\u00e9es du traceur et les transmet simultan\u00e9ment \u00e0 tous les serveurs Traccar configur\u00e9s, assurant une redondance des donn\u00e9es. Serveurs Traccar : Trois instances ind\u00e9pendantes du serveur Traccar, chacune fonctionnant sur son propre sous-domaine ( traccar1.domain.com , etc.). Chaque serveur expose : Le port 5055 pour le protocole OsmAnd, utilis\u00e9 par les traceurs. Le port 8082 pour l'interface web de Traccar.","title":"Composants"},{"location":"#navigation","text":"Fabrication du traceur GPS : Instructions pour assembler le mat\u00e9riel. Programmation du Liligo A7670G : Guide pour flasher le firmware du traceur. D\u00e9ploiement des serveurs Traccar : Comment mettre en place les serveurs Traccar avec Docker. Configuration de Cloudflare : Mise en place du tunnel et du Worker. Cr\u00e9ation de carte SIM Hologram : Pour la connectivit\u00e9 cellulaire. Installation dans un v\u00e9hicule : Conseils pour l'installation physique du traceur.","title":"Navigation"},{"location":"BOM/","text":"BOM - Bill of Materials (Liste des composants) Ce document liste tous les composants n\u00e9cessaires \u00e0 la fabrication d'un traceur GPS Trackteur. Projet destin\u00e9 au S\u00e9n\u00e9gal - Fournisseurs chinois privil\u00e9gi\u00e9s pour les meilleurs prix et livraison internationale. Liste des composants 1. LilyGo T-A7670G Description Module ESP32 avec modem 4G LTE et GPS int\u00e9gr\u00e9 (avec antennes GPS et 4G) Quantit\u00e9 1 Prix 50-60 $ Fournisseur AliExpress / LilyGo Store 2. Bo\u00eetier \u00e9tanche Description Bo\u00eetier ABS IP65/IP67, min 120x80x40 mm Quantit\u00e9 1 Prix 20-30 $ Fournisseur AliExpress 3. Convertisseur 12V-5V Description Module DC-DC step-down, entr\u00e9e 8-35V, sortie 5V 3A Quantit\u00e9 1 Prix 2-5 $ Fournisseur AliExpress 4. Batteries 18650 Description Batteries Li-Ion 3.7V rechargeables Quantit\u00e9 2 Prix 8-15 $ Fournisseur AliExpress 5. Presse-\u00e9toupe Description Passe-c\u00e2ble \u00e9tanche PG7 ou PG9, IP68 Quantit\u00e9 1-2 Prix 1-3 $ Fournisseur AliExpress 6. C\u00e2ble weatherproof Description C\u00e2ble 2 conducteurs \u00e9tanche, 0.5-1.0 mm\u00b2, rouge/noir Quantit\u00e9 2 m Prix 2-4 $ Fournisseur AliExpress 7. Connecteurs 2 pattes weatherproof Description Connecteurs \u00e9tanches 2 broches pour d\u00e9connexion rapide Quantit\u00e9 1 Prix 2-5 $ Fournisseur AliExpress 8. Jonction 3 pattes weatherproof Description Bo\u00eete de jonction \u00e9tanche 3 voies pour connexion aux fils ACC du v\u00e9hicule (1 pour +12V, 1 pour GND) Quantit\u00e9 2 Prix 2-4 $ Fournisseur AliExpress 9. Carte SD 16 Go Description Carte microSD pour stockage backup des donn\u00e9es GPS Quantit\u00e9 1 Prix 3-8 $ Fournisseur AliExpress 10. Tie-wraps Description Attaches de c\u00e2ble en nylon Quantit\u00e9 10-20 Prix 1-3 $ Fournisseur AliExpress 11. Carte SIM Hologram Description Carte SIM IoT avec connectivit\u00e9 mondiale Quantit\u00e9 1 Prix 5 $ + forfait data Fournisseur Hologram.io Co\u00fbt total estim\u00e9 Total composants 100-150 $ USD Forfait data Variable selon op\u00e9rateur","title":"BOM (Liste des composants)"},{"location":"BOM/#bom-bill-of-materials-liste-des-composants","text":"Ce document liste tous les composants n\u00e9cessaires \u00e0 la fabrication d'un traceur GPS Trackteur. Projet destin\u00e9 au S\u00e9n\u00e9gal - Fournisseurs chinois privil\u00e9gi\u00e9s pour les meilleurs prix et livraison internationale.","title":"BOM - Bill of Materials (Liste des composants)"},{"location":"BOM/#liste-des-composants","text":"","title":"Liste des composants"},{"location":"BOM/#1-lilygo-t-a7670g","text":"Description Module ESP32 avec modem 4G LTE et GPS int\u00e9gr\u00e9 (avec antennes GPS et 4G) Quantit\u00e9 1 Prix 50-60 $ Fournisseur AliExpress / LilyGo Store","title":"1. LilyGo T-A7670G"},{"location":"BOM/#2-boitier-etanche","text":"Description Bo\u00eetier ABS IP65/IP67, min 120x80x40 mm Quantit\u00e9 1 Prix 20-30 $ Fournisseur AliExpress","title":"2. Bo\u00eetier \u00e9tanche"},{"location":"BOM/#3-convertisseur-12v-5v","text":"Description Module DC-DC step-down, entr\u00e9e 8-35V, sortie 5V 3A Quantit\u00e9 1 Prix 2-5 $ Fournisseur AliExpress","title":"3. Convertisseur 12V-5V"},{"location":"BOM/#4-batteries-18650","text":"Description Batteries Li-Ion 3.7V rechargeables Quantit\u00e9 2 Prix 8-15 $ Fournisseur AliExpress","title":"4. Batteries 18650"},{"location":"BOM/#5-presse-etoupe","text":"Description Passe-c\u00e2ble \u00e9tanche PG7 ou PG9, IP68 Quantit\u00e9 1-2 Prix 1-3 $ Fournisseur AliExpress","title":"5. Presse-\u00e9toupe"},{"location":"BOM/#6-cable-weatherproof","text":"Description C\u00e2ble 2 conducteurs \u00e9tanche, 0.5-1.0 mm\u00b2, rouge/noir Quantit\u00e9 2 m Prix 2-4 $ Fournisseur AliExpress","title":"6. C\u00e2ble weatherproof"},{"location":"BOM/#7-connecteurs-2-pattes-weatherproof","text":"Description Connecteurs \u00e9tanches 2 broches pour d\u00e9connexion rapide Quantit\u00e9 1 Prix 2-5 $ Fournisseur AliExpress","title":"7. Connecteurs 2 pattes weatherproof"},{"location":"BOM/#8-jonction-3-pattes-weatherproof","text":"Description Bo\u00eete de jonction \u00e9tanche 3 voies pour connexion aux fils ACC du v\u00e9hicule (1 pour +12V, 1 pour GND) Quantit\u00e9 2 Prix 2-4 $ Fournisseur AliExpress","title":"8. Jonction 3 pattes weatherproof"},{"location":"BOM/#9-carte-sd-16-go","text":"Description Carte microSD pour stockage backup des donn\u00e9es GPS Quantit\u00e9 1 Prix 3-8 $ Fournisseur AliExpress","title":"9. Carte SD 16 Go"},{"location":"BOM/#10-tie-wraps","text":"Description Attaches de c\u00e2ble en nylon Quantit\u00e9 10-20 Prix 1-3 $ Fournisseur AliExpress","title":"10. Tie-wraps"},{"location":"BOM/#11-carte-sim-hologram","text":"Description Carte SIM IoT avec connectivit\u00e9 mondiale Quantit\u00e9 1 Prix 5 $ + forfait data Fournisseur Hologram.io","title":"11. Carte SIM Hologram"},{"location":"BOM/#cout-total-estime","text":"Total composants 100-150 $ USD Forfait data Variable selon op\u00e9rateur","title":"Co\u00fbt total estim\u00e9"},{"location":"configuration_cloudflare/","text":"Configuration de Cloudflare Ce guide explique comment acheter un nom de domaine, configurer Cloudflare pour exposer vos serveurs Traccar et cr\u00e9er le Worker qui r\u00e9plique les donn\u00e9es GPS vers tous les serveurs. Pr\u00e9requis Un compte Cloudflare actif (gratuit) Une carte de cr\u00e9dit pour l'achat du domaine Serveurs Traccar d\u00e9ploy\u00e9s et fonctionnels 0. Achat du nom de domaine sur Cloudflare Cloudflare propose l'enregistrement de domaines au prix co\u00fbtant (sans marge), ce qui en fait une option \u00e9conomique. 0.1 Cr\u00e9er un compte Cloudflare Aller sur https://dash.cloudflare.com/sign-up Cr\u00e9er un compte avec votre email Valider l'email de confirmation 0.2 Rechercher et acheter un domaine Dans le dashboard, aller dans Domain Registration \u2192 Register Domains Rechercher le nom de domaine souhait\u00e9 (ex: trackteur.cc , montracker.com ) V\u00e9rifier la disponibilit\u00e9 et le prix .com : ~$10/an .cc : ~$10/an .io : ~$35/an Cliquer sur Purchase Remplir les informations WHOIS (contact) Cloudflare masque automatiquement vos infos personnelles (WHOIS privacy gratuit) Entrer les informations de paiement Confirmer l'achat 0.3 V\u00e9rifier la configuration DNS Apr\u00e8s l'achat, le domaine est automatiquement configur\u00e9 avec les DNS Cloudflare: Aller dans Websites \u2192 S\u00e9lectionner votre domaine Aller dans DNS \u2192 Records Vous devriez voir les nameservers Cloudflare actifs 0.4 Activer les fonctionnalit\u00e9s gratuites Dans les param\u00e8tres du domaine, activez: SSL/TLS \u2192 Mode Full (strict) Security \u2192 Bot Fight Mode (optionnel) Speed \u2192 Auto Minify (optionnel) Architecture flowchart LR GPS[Traceur GPS] -->|Donn\u00e9es| W[Worker Cloudflare<br/>endpoint.domaine.com] W -->|R\u00e9plication| T1[Tunnel 1<br/>serveur1.domaine.com] W -->|R\u00e9plication| T2[Tunnel 2<br/>serveur2.domaine.com] W -->|R\u00e9plication| T3[Tunnel 3<br/>serveur3.domaine.com] T1 --> S1[Serveur Traccar 1] T2 --> S2[Serveur Traccar 2] T3 --> S3[Serveur Traccar 3] 1. Cr\u00e9er les tunnels Cloudflare (pour chaque serveur) R\u00e9p\u00e9tez ces \u00e9tapes pour chaque serveur Traccar. 1.1 Cr\u00e9er le fichier .env Le service cloudflared a besoin d'un token de tunnel pour s'authentifier. touch .env Ajoutez votre token de tunnel : TUNNEL_TOKEN=<VOTRE_TOKEN_DE_TUNNEL_CLOUDFLARE> 1.2 Cr\u00e9er le tunnel sur Cloudflare Sur le dashboard Cloudflare, v\u00e9rifiez que votre domaine est g\u00e9r\u00e9 par Cloudflare Rendez-vous dans Zero Trust \u2192 Networks \u2192 Tunnels Cliquez sur Add a tunnel / Create a tunnel Choisissez Docker comme m\u00e9thode d'installation Copiez le token fourni et collez-le dans votre fichier .env Dans Public Hostnames , cr\u00e9ez un enregistrement : Subdomain : serveur1 (ou serveur2 , serveur3 , etc.) Domain : Votre domaine Service : HTTP et http://traccar:8082 Enregistrez le tunnel 1.3 D\u00e9marrer les services sudo docker-compose up -d 2. Cr\u00e9er le Worker Cloudflare Le Worker re\u00e7oit les donn\u00e9es GPS du traceur et les r\u00e9plique vers tous les serveurs Traccar simultan\u00e9ment. 2.1 Cr\u00e9er le Worker Sur le dashboard Cloudflare, allez dans Workers et Pages Cliquez sur Create Worker Donnez un nom au Worker (ex: traccar-replicator ) Cliquez sur Deploy 2.2 Configurer le code du Worker Cliquez sur Edit code Remplacez le contenu par : export default { async fetch(request, env, ctx) { const targets = [ env.TRACCAR_A, env.TRACCAR_B, env.TRACCAR_C, ]; const url = new URL(request.url); const method = request.method; const queryString = url.search; // garde ?id=...&lat=... const body = await request.arrayBuffer(); const headers = new Headers(request.headers); headers.delete(\"Host\"); headers.delete(\"Content-Length\"); const promises = targets.map(async (baseUrl) => { if (!baseUrl) { return { target: baseUrl, ok: false, error: \"missing target\" }; } const targetUrl = baseUrl + queryString; try { const resp = await fetch(targetUrl, { method, headers, body: method === \"GET\" ? undefined : body, }); return { target: targetUrl, ok: resp.ok, status: resp.status }; } catch (e) { return { target: targetUrl, ok: false, error: String(e) }; } }); ctx.waitUntil( (async () => { const results = await Promise.all(promises); console.log(\"Traccar fan-out results\", JSON.stringify(results)); })() ); return new Response(\"OK\\n\", { status: 200, headers: { \"Content-Type\": \"text/plain\" } }); }, }; Cliquez sur Save and Deploy 2.3 Configurer les variables d'environnement Allez dans l'onglet Settings du Worker Dans Variables and Secrets , ajoutez les variables suivantes : Type Nom Valeur Text TRACCAR_A https://serveur1.votredomaine.com Text TRACCAR_B https://serveur2.votredomaine.com Text TRACCAR_C https://serveur3.votredomaine.com Cliquez sur Save 2.4 Configurer le domaine personnalis\u00e9 Allez dans l'onglet Domains & Routes du Worker Cliquez sur Add \u2192 Custom Domain Entrez le sous-domaine pour le point d'entr\u00e9e GPS (ex: gps.votredomaine.com ) Cliquez sur Add Domain 3. Configurer le traceur GPS Dans la configuration du traceur (fichier config.h ), utilisez l'URL du Worker : #define TRACCAR_SERVER_URL \"https://gps.votredomaine.com\" Le traceur enverra ses donn\u00e9es au Worker, qui les r\u00e9pliquera automatiquement vers tous les serveurs Traccar. Notes utiles Le Worker r\u00e9pond toujours OK au traceur, m\u00eame si certains serveurs sont indisponibles Les logs du Worker (accessibles dans Observability ) montrent le r\u00e9sultat de chaque r\u00e9plication Vous pouvez ajouter ou retirer des serveurs en modifiant les variables d'environnement","title":"Configuration de Cloudflare"},{"location":"configuration_cloudflare/#configuration-de-cloudflare","text":"Ce guide explique comment acheter un nom de domaine, configurer Cloudflare pour exposer vos serveurs Traccar et cr\u00e9er le Worker qui r\u00e9plique les donn\u00e9es GPS vers tous les serveurs.","title":"Configuration de Cloudflare"},{"location":"configuration_cloudflare/#prerequis","text":"Un compte Cloudflare actif (gratuit) Une carte de cr\u00e9dit pour l'achat du domaine Serveurs Traccar d\u00e9ploy\u00e9s et fonctionnels","title":"Pr\u00e9requis"},{"location":"configuration_cloudflare/#0-achat-du-nom-de-domaine-sur-cloudflare","text":"Cloudflare propose l'enregistrement de domaines au prix co\u00fbtant (sans marge), ce qui en fait une option \u00e9conomique.","title":"0. Achat du nom de domaine sur Cloudflare"},{"location":"configuration_cloudflare/#01-creer-un-compte-cloudflare","text":"Aller sur https://dash.cloudflare.com/sign-up Cr\u00e9er un compte avec votre email Valider l'email de confirmation","title":"0.1 Cr\u00e9er un compte Cloudflare"},{"location":"configuration_cloudflare/#02-rechercher-et-acheter-un-domaine","text":"Dans le dashboard, aller dans Domain Registration \u2192 Register Domains Rechercher le nom de domaine souhait\u00e9 (ex: trackteur.cc , montracker.com ) V\u00e9rifier la disponibilit\u00e9 et le prix .com : ~$10/an .cc : ~$10/an .io : ~$35/an Cliquer sur Purchase Remplir les informations WHOIS (contact) Cloudflare masque automatiquement vos infos personnelles (WHOIS privacy gratuit) Entrer les informations de paiement Confirmer l'achat","title":"0.2 Rechercher et acheter un domaine"},{"location":"configuration_cloudflare/#03-verifier-la-configuration-dns","text":"Apr\u00e8s l'achat, le domaine est automatiquement configur\u00e9 avec les DNS Cloudflare: Aller dans Websites \u2192 S\u00e9lectionner votre domaine Aller dans DNS \u2192 Records Vous devriez voir les nameservers Cloudflare actifs","title":"0.3 V\u00e9rifier la configuration DNS"},{"location":"configuration_cloudflare/#04-activer-les-fonctionnalites-gratuites","text":"Dans les param\u00e8tres du domaine, activez: SSL/TLS \u2192 Mode Full (strict) Security \u2192 Bot Fight Mode (optionnel) Speed \u2192 Auto Minify (optionnel)","title":"0.4 Activer les fonctionnalit\u00e9s gratuites"},{"location":"configuration_cloudflare/#architecture","text":"flowchart LR GPS[Traceur GPS] -->|Donn\u00e9es| W[Worker Cloudflare<br/>endpoint.domaine.com] W -->|R\u00e9plication| T1[Tunnel 1<br/>serveur1.domaine.com] W -->|R\u00e9plication| T2[Tunnel 2<br/>serveur2.domaine.com] W -->|R\u00e9plication| T3[Tunnel 3<br/>serveur3.domaine.com] T1 --> S1[Serveur Traccar 1] T2 --> S2[Serveur Traccar 2] T3 --> S3[Serveur Traccar 3]","title":"Architecture"},{"location":"configuration_cloudflare/#1-creer-les-tunnels-cloudflare-pour-chaque-serveur","text":"R\u00e9p\u00e9tez ces \u00e9tapes pour chaque serveur Traccar.","title":"1. Cr\u00e9er les tunnels Cloudflare (pour chaque serveur)"},{"location":"configuration_cloudflare/#11-creer-le-fichier-env","text":"Le service cloudflared a besoin d'un token de tunnel pour s'authentifier. touch .env Ajoutez votre token de tunnel : TUNNEL_TOKEN=<VOTRE_TOKEN_DE_TUNNEL_CLOUDFLARE>","title":"1.1 Cr\u00e9er le fichier .env"},{"location":"configuration_cloudflare/#12-creer-le-tunnel-sur-cloudflare","text":"Sur le dashboard Cloudflare, v\u00e9rifiez que votre domaine est g\u00e9r\u00e9 par Cloudflare Rendez-vous dans Zero Trust \u2192 Networks \u2192 Tunnels Cliquez sur Add a tunnel / Create a tunnel Choisissez Docker comme m\u00e9thode d'installation Copiez le token fourni et collez-le dans votre fichier .env Dans Public Hostnames , cr\u00e9ez un enregistrement : Subdomain : serveur1 (ou serveur2 , serveur3 , etc.) Domain : Votre domaine Service : HTTP et http://traccar:8082 Enregistrez le tunnel","title":"1.2 Cr\u00e9er le tunnel sur Cloudflare"},{"location":"configuration_cloudflare/#13-demarrer-les-services","text":"sudo docker-compose up -d","title":"1.3 D\u00e9marrer les services"},{"location":"configuration_cloudflare/#2-creer-le-worker-cloudflare","text":"Le Worker re\u00e7oit les donn\u00e9es GPS du traceur et les r\u00e9plique vers tous les serveurs Traccar simultan\u00e9ment.","title":"2. Cr\u00e9er le Worker Cloudflare"},{"location":"configuration_cloudflare/#21-creer-le-worker","text":"Sur le dashboard Cloudflare, allez dans Workers et Pages Cliquez sur Create Worker Donnez un nom au Worker (ex: traccar-replicator ) Cliquez sur Deploy","title":"2.1 Cr\u00e9er le Worker"},{"location":"configuration_cloudflare/#22-configurer-le-code-du-worker","text":"Cliquez sur Edit code Remplacez le contenu par : export default { async fetch(request, env, ctx) { const targets = [ env.TRACCAR_A, env.TRACCAR_B, env.TRACCAR_C, ]; const url = new URL(request.url); const method = request.method; const queryString = url.search; // garde ?id=...&lat=... const body = await request.arrayBuffer(); const headers = new Headers(request.headers); headers.delete(\"Host\"); headers.delete(\"Content-Length\"); const promises = targets.map(async (baseUrl) => { if (!baseUrl) { return { target: baseUrl, ok: false, error: \"missing target\" }; } const targetUrl = baseUrl + queryString; try { const resp = await fetch(targetUrl, { method, headers, body: method === \"GET\" ? undefined : body, }); return { target: targetUrl, ok: resp.ok, status: resp.status }; } catch (e) { return { target: targetUrl, ok: false, error: String(e) }; } }); ctx.waitUntil( (async () => { const results = await Promise.all(promises); console.log(\"Traccar fan-out results\", JSON.stringify(results)); })() ); return new Response(\"OK\\n\", { status: 200, headers: { \"Content-Type\": \"text/plain\" } }); }, }; Cliquez sur Save and Deploy","title":"2.2 Configurer le code du Worker"},{"location":"configuration_cloudflare/#23-configurer-les-variables-denvironnement","text":"Allez dans l'onglet Settings du Worker Dans Variables and Secrets , ajoutez les variables suivantes : Type Nom Valeur Text TRACCAR_A https://serveur1.votredomaine.com Text TRACCAR_B https://serveur2.votredomaine.com Text TRACCAR_C https://serveur3.votredomaine.com Cliquez sur Save","title":"2.3 Configurer les variables d'environnement"},{"location":"configuration_cloudflare/#24-configurer-le-domaine-personnalise","text":"Allez dans l'onglet Domains & Routes du Worker Cliquez sur Add \u2192 Custom Domain Entrez le sous-domaine pour le point d'entr\u00e9e GPS (ex: gps.votredomaine.com ) Cliquez sur Add Domain","title":"2.4 Configurer le domaine personnalis\u00e9"},{"location":"configuration_cloudflare/#3-configurer-le-traceur-gps","text":"Dans la configuration du traceur (fichier config.h ), utilisez l'URL du Worker : #define TRACCAR_SERVER_URL \"https://gps.votredomaine.com\" Le traceur enverra ses donn\u00e9es au Worker, qui les r\u00e9pliquera automatiquement vers tous les serveurs Traccar.","title":"3. Configurer le traceur GPS"},{"location":"configuration_cloudflare/#notes-utiles","text":"Le Worker r\u00e9pond toujours OK au traceur, m\u00eame si certains serveurs sont indisponibles Les logs du Worker (accessibles dans Observability ) montrent le r\u00e9sultat de chaque r\u00e9plication Vous pouvez ajouter ou retirer des serveurs en modifiant les variables d'environnement","title":"Notes utiles"},{"location":"creation_carte_sim_hologram/","text":"Cr\u00e9ation de carte SIM Hologram Guide pour activer et configurer une carte SIM Hologram IoT pour le tracker GPS. Pourquoi Hologram? Couverture mondiale : Roaming automatique dans 200+ pays Bandes Africa : Compatible avec les r\u00e9seaux S\u00e9n\u00e9gal (Orange, Free, Expresso) Tarification IoT : Optimis\u00e9 pour faible volume de donn\u00e9es Pas de contrat : Pay-as-you-go Dashboard : Monitoring en temps r\u00e9el de la consommation Pr\u00e9requis Compte Hologram (gratuit) Carte de cr\u00e9dit pour l'activation Carte SIM Hologram (command\u00e9e sur hologram.io) \u00c9tape 1: Cr\u00e9ation du compte Aller sur https://dashboard.hologram.io/register Cr\u00e9er un compte avec email professionnel Valider l'email de confirmation \u00c9tape 2: Commander les cartes SIM Dans le dashboard, aller sur Devices \u2192 Order SIMs S\u00e9lectionner le type de SIM: Hologram Hyper SIM (recommand\u00e9) - Meilleure couverture Format: Nano SIM (pour LilyGo T-A7670G) Quantit\u00e9 selon besoin Livraison: ~1-2 semaines vers le S\u00e9n\u00e9gal \u00c9tape 3: Activation de la SIM Via Dashboard Aller sur Devices \u2192 Activate SIM Scanner ou entrer le ICCID (num\u00e9ro sur la carte SIM) Donner un nom au device: TRACTEUR_001 S\u00e9lectionner le plan: Pay-as-you-go : $0.40/MB (petits volumes) Pooled plan : \u00c0 partir de $1/mois pour 1MB partag\u00e9 Configuration du device Cliquer sur le device activ\u00e9 Aller dans Configuration V\u00e9rifier l'APN: hologram (par d\u00e9faut) Activer Data (toggle ON) \u00c9tape 4: Configuration firmware Dans config.h du tracker: #define NETWORK_APN \"hologram\" C'est tout! L'APN Hologram ne n\u00e9cessite ni username ni password. \u00c9tape 5: V\u00e9rification Dans le dashboard Hologram Usage \u2192 Voir la consommation data Device Logs \u2192 Voir les connexions r\u00e9seau Coverage Map \u2192 V\u00e9rifier la couverture dans votre zone Sur le tracker Moniteur s\u00e9rie (115200 baud): Setting network APN: hologram Registering on network... Network registered! Activating network... IP Address: 10.x.x.x Consommation data estim\u00e9e Fr\u00e9quence Data/jour Data/mois Co\u00fbt/mois 2 min ~50 KB ~1.5 MB ~$0.60 5 min ~20 KB ~600 KB ~$0.25 10 min ~10 KB ~300 KB ~$0.12 Chaque transmission \u2248 200-500 bytes (protocole OsmAnd) Alertes et monitoring Configurer des alertes Billing \u2192 Alerts \u2192 Add Alert Seuil de consommation (ex: 5MB) Notification par email Webhook (optionnel) Pour recevoir les \u00e9v\u00e9nements device: 1. Devices \u2192 Webhooks 2. URL de votre endpoint 3. Events: device.connect , device.disconnect D\u00e9pannage SIM non reconnue SIM status: SIM_ERROR V\u00e9rifier l'insertion (contacts vers le bas) V\u00e9rifier que la SIM est activ\u00e9e dans le dashboard V\u00e9rifier le format (Nano SIM) Pas de r\u00e9seau Network registration denied! V\u00e9rifier la couverture dans la zone V\u00e9rifier que le plan est actif (solde suffisant) Essayer de red\u00e9marrer le tracker Data ne fonctionne pas Failed to activate network V\u00e9rifier l'APN dans config.h: hologram V\u00e9rifier que Data est activ\u00e9 dans le dashboard Attendre 1-2 minutes apr\u00e8s insertion SIM Tarification Hologram (2025) Plan Inclus Prix Pay-as-you-go - $0.40/MB 1MB Pool 1MB/mois $1.00/mois 5MB Pool 5MB/mois $3.00/mois 10MB Pool 10MB/mois $5.00/mois Pour un tracker \u00e0 2 min d'intervalle: 1MB Pool suffit. Ressources Documentation Hologram Coverage Map Support","title":"Cr\u00e9ation de carte SIM Hologram"},{"location":"creation_carte_sim_hologram/#creation-de-carte-sim-hologram","text":"Guide pour activer et configurer une carte SIM Hologram IoT pour le tracker GPS.","title":"Cr\u00e9ation de carte SIM Hologram"},{"location":"creation_carte_sim_hologram/#pourquoi-hologram","text":"Couverture mondiale : Roaming automatique dans 200+ pays Bandes Africa : Compatible avec les r\u00e9seaux S\u00e9n\u00e9gal (Orange, Free, Expresso) Tarification IoT : Optimis\u00e9 pour faible volume de donn\u00e9es Pas de contrat : Pay-as-you-go Dashboard : Monitoring en temps r\u00e9el de la consommation","title":"Pourquoi Hologram?"},{"location":"creation_carte_sim_hologram/#prerequis","text":"Compte Hologram (gratuit) Carte de cr\u00e9dit pour l'activation Carte SIM Hologram (command\u00e9e sur hologram.io)","title":"Pr\u00e9requis"},{"location":"creation_carte_sim_hologram/#etape-1-creation-du-compte","text":"Aller sur https://dashboard.hologram.io/register Cr\u00e9er un compte avec email professionnel Valider l'email de confirmation","title":"\u00c9tape 1: Cr\u00e9ation du compte"},{"location":"creation_carte_sim_hologram/#etape-2-commander-les-cartes-sim","text":"Dans le dashboard, aller sur Devices \u2192 Order SIMs S\u00e9lectionner le type de SIM: Hologram Hyper SIM (recommand\u00e9) - Meilleure couverture Format: Nano SIM (pour LilyGo T-A7670G) Quantit\u00e9 selon besoin Livraison: ~1-2 semaines vers le S\u00e9n\u00e9gal","title":"\u00c9tape 2: Commander les cartes SIM"},{"location":"creation_carte_sim_hologram/#etape-3-activation-de-la-sim","text":"","title":"\u00c9tape 3: Activation de la SIM"},{"location":"creation_carte_sim_hologram/#via-dashboard","text":"Aller sur Devices \u2192 Activate SIM Scanner ou entrer le ICCID (num\u00e9ro sur la carte SIM) Donner un nom au device: TRACTEUR_001 S\u00e9lectionner le plan: Pay-as-you-go : $0.40/MB (petits volumes) Pooled plan : \u00c0 partir de $1/mois pour 1MB partag\u00e9","title":"Via Dashboard"},{"location":"creation_carte_sim_hologram/#configuration-du-device","text":"Cliquer sur le device activ\u00e9 Aller dans Configuration V\u00e9rifier l'APN: hologram (par d\u00e9faut) Activer Data (toggle ON)","title":"Configuration du device"},{"location":"creation_carte_sim_hologram/#etape-4-configuration-firmware","text":"Dans config.h du tracker: #define NETWORK_APN \"hologram\" C'est tout! L'APN Hologram ne n\u00e9cessite ni username ni password.","title":"\u00c9tape 4: Configuration firmware"},{"location":"creation_carte_sim_hologram/#etape-5-verification","text":"","title":"\u00c9tape 5: V\u00e9rification"},{"location":"creation_carte_sim_hologram/#dans-le-dashboard-hologram","text":"Usage \u2192 Voir la consommation data Device Logs \u2192 Voir les connexions r\u00e9seau Coverage Map \u2192 V\u00e9rifier la couverture dans votre zone","title":"Dans le dashboard Hologram"},{"location":"creation_carte_sim_hologram/#sur-le-tracker","text":"Moniteur s\u00e9rie (115200 baud): Setting network APN: hologram Registering on network... Network registered! Activating network... IP Address: 10.x.x.x","title":"Sur le tracker"},{"location":"creation_carte_sim_hologram/#consommation-data-estimee","text":"Fr\u00e9quence Data/jour Data/mois Co\u00fbt/mois 2 min ~50 KB ~1.5 MB ~$0.60 5 min ~20 KB ~600 KB ~$0.25 10 min ~10 KB ~300 KB ~$0.12 Chaque transmission \u2248 200-500 bytes (protocole OsmAnd)","title":"Consommation data estim\u00e9e"},{"location":"creation_carte_sim_hologram/#alertes-et-monitoring","text":"","title":"Alertes et monitoring"},{"location":"creation_carte_sim_hologram/#configurer-des-alertes","text":"Billing \u2192 Alerts \u2192 Add Alert Seuil de consommation (ex: 5MB) Notification par email","title":"Configurer des alertes"},{"location":"creation_carte_sim_hologram/#webhook-optionnel","text":"Pour recevoir les \u00e9v\u00e9nements device: 1. Devices \u2192 Webhooks 2. URL de votre endpoint 3. Events: device.connect , device.disconnect","title":"Webhook (optionnel)"},{"location":"creation_carte_sim_hologram/#depannage","text":"","title":"D\u00e9pannage"},{"location":"creation_carte_sim_hologram/#sim-non-reconnue","text":"SIM status: SIM_ERROR V\u00e9rifier l'insertion (contacts vers le bas) V\u00e9rifier que la SIM est activ\u00e9e dans le dashboard V\u00e9rifier le format (Nano SIM)","title":"SIM non reconnue"},{"location":"creation_carte_sim_hologram/#pas-de-reseau","text":"Network registration denied! V\u00e9rifier la couverture dans la zone V\u00e9rifier que le plan est actif (solde suffisant) Essayer de red\u00e9marrer le tracker","title":"Pas de r\u00e9seau"},{"location":"creation_carte_sim_hologram/#data-ne-fonctionne-pas","text":"Failed to activate network V\u00e9rifier l'APN dans config.h: hologram V\u00e9rifier que Data est activ\u00e9 dans le dashboard Attendre 1-2 minutes apr\u00e8s insertion SIM","title":"Data ne fonctionne pas"},{"location":"creation_carte_sim_hologram/#tarification-hologram-2025","text":"Plan Inclus Prix Pay-as-you-go - $0.40/MB 1MB Pool 1MB/mois $1.00/mois 5MB Pool 5MB/mois $3.00/mois 10MB Pool 10MB/mois $5.00/mois Pour un tracker \u00e0 2 min d'intervalle: 1MB Pool suffit.","title":"Tarification Hologram (2025)"},{"location":"creation_carte_sim_hologram/#ressources","text":"Documentation Hologram Coverage Map Support","title":"Ressources"},{"location":"fabrication_traceur_gps/","text":"Fabrication du traceur GPS Ce guide d\u00e9taille l'assemblage m\u00e9canique du traceur GPS Trackteur. Mat\u00e9riel requis R\u00e9f\u00e9rez-vous au BOM (Bill of Materials) pour la liste compl\u00e8te des composants avec images. Sch\u00e9ma de c\u00e2blage flowchart LR subgraph vehicule[\"V\u00e9hicule (Tracteur, Voiture, etc.)\"] ACC[Fil ACC 12V] GND[Masse] end subgraph jonction[\"Jonction 3 pattes\"] J[Connexion ACC] end subgraph connecteur[\"Connecteur 2 pattes<br/>(ext\u00e9rieur bo\u00eetier)\"] C[D\u00e9connexion rapide] end subgraph boitier[\"Bo\u00eetier \u00e9tanche IP67\"] PE[Presse-\u00e9toupe] CONV[Convertisseur<br/>12V \u2192 5V] LILYGO[LilyGo A7670G] BAT[Batteries 18650<br/>backup] SD[Carte SD] ANT1[Antenne GPS] ANT2[Antenne 4G] end ACC --> J GND --> J J -->|C\u00e2ble weatherproof| C C -->|C\u00e2ble weatherproof| PE PE --> CONV CONV -->|USB 5V| LILYGO BAT -.->|Backup| LILYGO SD -.-> LILYGO ANT1 -.-> LILYGO ANT2 -.-> LILYGO L\u00e9gende Trait plein : Connexions d'alimentation Trait pointill\u00e9 : Connexions internes au bo\u00eetier \u00c9tapes d'assemblage \u00c9tape 1 : Pr\u00e9paration du bo\u00eetier Percez un trou dans le bo\u00eetier pour le presse-\u00e9toupe (diam\u00e8tre selon PG7 ou PG9) Installez le presse-\u00e9toupe et serrez-le pour assurer l'\u00e9tanch\u00e9it\u00e9 \u00c9tape 2 : Pr\u00e9paration du c\u00e2blage d'alimentation Passez le c\u00e2ble weatherproof \u00e0 travers le presse-\u00e9toupe \u00c0 l'int\u00e9rieur du bo\u00eetier : Connectez les fils du c\u00e2ble au convertisseur 12V-5V (entr\u00e9e) Connectez la sortie 5V du convertisseur au port USB du LilyGo \u00c0 l'ext\u00e9rieur du bo\u00eetier : Installez le connecteur 2 pattes weatherproof sur le c\u00e2ble (c\u00f4t\u00e9 m\u00e2le) \u00c9tape 3 : Pr\u00e9paration du LilyGo Installez les batteries 18650 dans le support du LilyGo Ins\u00e9rez la carte SIM dans le slot du LilyGo Ins\u00e9rez la carte SD 16 Go pour le backup des donn\u00e9es GPS Connectez les antennes GPS et 4G au module \u00c9tape 4 : Installation des composants dans le bo\u00eetier Tous les composants sont fix\u00e9s au fond du bo\u00eetier avec des tie-wraps : LilyGo A7670G (avec batteries d\u00e9j\u00e0 install\u00e9es) : Fixez-le solidement avec 2-3 tie-wraps Convertisseur 12V-5V : Fixez-le \u00e0 c\u00f4t\u00e9 du LilyGo \u00c9tape 5 : Pr\u00e9paration du c\u00e2ble c\u00f4t\u00e9 v\u00e9hicule Installez le connecteur 2 pattes weatherproof (c\u00f4t\u00e9 femelle) sur un nouveau segment de c\u00e2ble \u00c0 l'autre extr\u00e9mit\u00e9, connectez la jonction 3 pattes weatherproof La jonction 3 pattes servira \u00e0 raccorder le c\u00e2ble aux fils ACC (12V) du v\u00e9hicule Installation dans le v\u00e9hicule Connexion \u00e9lectrique Identifiez un fil ACC (accessoires) 12V dans le v\u00e9hicule Ce fil est aliment\u00e9 uniquement quand le contact est mis Id\u00e9al pour tracteurs, voitures, camions, etc. Utilisez la jonction 3 pattes pour vous raccorder aux fils ACC (+12V et masse) Fixation du bo\u00eetier Choisissez un emplacement discret et prot\u00e9g\u00e9 dans le v\u00e9hicule Fixez le bo\u00eetier avec des tie-wraps sur un support existant Assurez-vous que les antennes GPS et 4G ont une bonne r\u00e9ception Connexion finale Branchez le connecteur 2 pattes pour alimenter le traceur Le connecteur externe permet de retirer facilement le traceur pour maintenance ou changement de v\u00e9hicule V\u00e9rification Mettez le contact du v\u00e9hicule V\u00e9rifiez que le LilyGo s'allume (LED) Attendez l'acquisition GPS (peut prendre 1-2 minutes au premier d\u00e9marrage) V\u00e9rifiez sur votre serveur Traccar que les positions sont re\u00e7ues Conseils Gardez les antennes \u00e0 l'int\u00e9rieur du bo\u00eetier mais orient\u00e9es vers le haut pour une meilleure r\u00e9ception Si possible, placez le bo\u00eetier pr\u00e8s du pare-brise ou dans un endroit avec vue d\u00e9gag\u00e9e vers le ciel Le bo\u00eetier \u00e9tanche IP65/IP67 prot\u00e8ge contre la poussi\u00e8re et les projections d'eau","title":"Fabrication du traceur GPS"},{"location":"fabrication_traceur_gps/#fabrication-du-traceur-gps","text":"Ce guide d\u00e9taille l'assemblage m\u00e9canique du traceur GPS Trackteur.","title":"Fabrication du traceur GPS"},{"location":"fabrication_traceur_gps/#materiel-requis","text":"R\u00e9f\u00e9rez-vous au BOM (Bill of Materials) pour la liste compl\u00e8te des composants avec images.","title":"Mat\u00e9riel requis"},{"location":"fabrication_traceur_gps/#schema-de-cablage","text":"flowchart LR subgraph vehicule[\"V\u00e9hicule (Tracteur, Voiture, etc.)\"] ACC[Fil ACC 12V] GND[Masse] end subgraph jonction[\"Jonction 3 pattes\"] J[Connexion ACC] end subgraph connecteur[\"Connecteur 2 pattes<br/>(ext\u00e9rieur bo\u00eetier)\"] C[D\u00e9connexion rapide] end subgraph boitier[\"Bo\u00eetier \u00e9tanche IP67\"] PE[Presse-\u00e9toupe] CONV[Convertisseur<br/>12V \u2192 5V] LILYGO[LilyGo A7670G] BAT[Batteries 18650<br/>backup] SD[Carte SD] ANT1[Antenne GPS] ANT2[Antenne 4G] end ACC --> J GND --> J J -->|C\u00e2ble weatherproof| C C -->|C\u00e2ble weatherproof| PE PE --> CONV CONV -->|USB 5V| LILYGO BAT -.->|Backup| LILYGO SD -.-> LILYGO ANT1 -.-> LILYGO ANT2 -.-> LILYGO","title":"Sch\u00e9ma de c\u00e2blage"},{"location":"fabrication_traceur_gps/#legende","text":"Trait plein : Connexions d'alimentation Trait pointill\u00e9 : Connexions internes au bo\u00eetier","title":"L\u00e9gende"},{"location":"fabrication_traceur_gps/#etapes-dassemblage","text":"","title":"\u00c9tapes d'assemblage"},{"location":"fabrication_traceur_gps/#etape-1-preparation-du-boitier","text":"Percez un trou dans le bo\u00eetier pour le presse-\u00e9toupe (diam\u00e8tre selon PG7 ou PG9) Installez le presse-\u00e9toupe et serrez-le pour assurer l'\u00e9tanch\u00e9it\u00e9","title":"\u00c9tape 1 : Pr\u00e9paration du bo\u00eetier"},{"location":"fabrication_traceur_gps/#etape-2-preparation-du-cablage-dalimentation","text":"Passez le c\u00e2ble weatherproof \u00e0 travers le presse-\u00e9toupe \u00c0 l'int\u00e9rieur du bo\u00eetier : Connectez les fils du c\u00e2ble au convertisseur 12V-5V (entr\u00e9e) Connectez la sortie 5V du convertisseur au port USB du LilyGo \u00c0 l'ext\u00e9rieur du bo\u00eetier : Installez le connecteur 2 pattes weatherproof sur le c\u00e2ble (c\u00f4t\u00e9 m\u00e2le)","title":"\u00c9tape 2 : Pr\u00e9paration du c\u00e2blage d'alimentation"},{"location":"fabrication_traceur_gps/#etape-3-preparation-du-lilygo","text":"Installez les batteries 18650 dans le support du LilyGo Ins\u00e9rez la carte SIM dans le slot du LilyGo Ins\u00e9rez la carte SD 16 Go pour le backup des donn\u00e9es GPS Connectez les antennes GPS et 4G au module","title":"\u00c9tape 3 : Pr\u00e9paration du LilyGo"},{"location":"fabrication_traceur_gps/#etape-4-installation-des-composants-dans-le-boitier","text":"Tous les composants sont fix\u00e9s au fond du bo\u00eetier avec des tie-wraps : LilyGo A7670G (avec batteries d\u00e9j\u00e0 install\u00e9es) : Fixez-le solidement avec 2-3 tie-wraps Convertisseur 12V-5V : Fixez-le \u00e0 c\u00f4t\u00e9 du LilyGo","title":"\u00c9tape 4 : Installation des composants dans le bo\u00eetier"},{"location":"fabrication_traceur_gps/#etape-5-preparation-du-cable-cote-vehicule","text":"Installez le connecteur 2 pattes weatherproof (c\u00f4t\u00e9 femelle) sur un nouveau segment de c\u00e2ble \u00c0 l'autre extr\u00e9mit\u00e9, connectez la jonction 3 pattes weatherproof La jonction 3 pattes servira \u00e0 raccorder le c\u00e2ble aux fils ACC (12V) du v\u00e9hicule","title":"\u00c9tape 5 : Pr\u00e9paration du c\u00e2ble c\u00f4t\u00e9 v\u00e9hicule"},{"location":"fabrication_traceur_gps/#installation-dans-le-vehicule","text":"","title":"Installation dans le v\u00e9hicule"},{"location":"fabrication_traceur_gps/#connexion-electrique","text":"Identifiez un fil ACC (accessoires) 12V dans le v\u00e9hicule Ce fil est aliment\u00e9 uniquement quand le contact est mis Id\u00e9al pour tracteurs, voitures, camions, etc. Utilisez la jonction 3 pattes pour vous raccorder aux fils ACC (+12V et masse)","title":"Connexion \u00e9lectrique"},{"location":"fabrication_traceur_gps/#fixation-du-boitier","text":"Choisissez un emplacement discret et prot\u00e9g\u00e9 dans le v\u00e9hicule Fixez le bo\u00eetier avec des tie-wraps sur un support existant Assurez-vous que les antennes GPS et 4G ont une bonne r\u00e9ception","title":"Fixation du bo\u00eetier"},{"location":"fabrication_traceur_gps/#connexion-finale","text":"Branchez le connecteur 2 pattes pour alimenter le traceur Le connecteur externe permet de retirer facilement le traceur pour maintenance ou changement de v\u00e9hicule","title":"Connexion finale"},{"location":"fabrication_traceur_gps/#verification","text":"Mettez le contact du v\u00e9hicule V\u00e9rifiez que le LilyGo s'allume (LED) Attendez l'acquisition GPS (peut prendre 1-2 minutes au premier d\u00e9marrage) V\u00e9rifiez sur votre serveur Traccar que les positions sont re\u00e7ues","title":"V\u00e9rification"},{"location":"fabrication_traceur_gps/#conseils","text":"Gardez les antennes \u00e0 l'int\u00e9rieur du bo\u00eetier mais orient\u00e9es vers le haut pour une meilleure r\u00e9ception Si possible, placez le bo\u00eetier pr\u00e8s du pare-brise ou dans un endroit avec vue d\u00e9gag\u00e9e vers le ciel Le bo\u00eetier \u00e9tanche IP65/IP67 prot\u00e8ge contre la poussi\u00e8re et les projections d'eau","title":"Conseils"},{"location":"installation_docker/","text":"Installation de Traccar avec Docker Ce guide explique comment installer Traccar en utilisant Docker et Docker Compose. Cette m\u00e9thode est recommand\u00e9e car elle simplifie le d\u00e9ploiement et la gestion de Traccar et de ses d\u00e9pendances. Pr\u00e9requis Un serveur Linux. Un acc\u00e8s root ou un utilisateur avec des privil\u00e8ges sudo . Docker et Docker Compose install\u00e9s. Installer Docker/Docker Compose sur Ubuntu (22.04 ou plus r\u00e9cent) D\u00e9sinstaller les anciens paquets si pr\u00e9sents : sudo apt remove docker docker-engine docker.io containerd runc Installer les d\u00e9pendances et ajouter la cl\u00e9 GPG officielle : sudo apt update sudo apt install -y ca-certificates curl gnupg sudo install -m 0755 -d /etc/apt/keyrings curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg sudo chmod a+r /etc/apt/keyrings/docker.gpg Ajouter le d\u00e9p\u00f4t Docker et installer le moteur avec le plugin Compose : echo \"deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu $(. /etc/os-release && echo \"$VERSION_CODENAME\") stable\" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null sudo apt update sudo apt install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin V\u00e9rifier que Docker et Compose fonctionnent : sudo docker run --rm hello-world docker compose version (Optionnel) Autoriser l\u2019utilisateur courant \u00e0 utiliser Docker sans sudo : sudo usermod -aG docker $USER newgrp docker Fichier docker-compose.yml Le fichier docker-compose.yml \u00e0 la racine de ce projet d\u00e9finit les services suivants : database : Un conteneur MySQL pour stocker les donn\u00e9es de Traccar. traccar : Le conteneur principal de Traccar. cloudflared : Un conteneur pour le tunnel Cloudflare, qui expose Traccar de mani\u00e8re s\u00e9curis\u00e9e. autoheal : Un conteneur qui surveille et red\u00e9marre les conteneurs en mauvaise sant\u00e9. Personnalisation du docker-compose.yml Volumes : Les volumes sont configur\u00e9s pour stocker les donn\u00e9es de la base de donn\u00e9es ( /opt/traccar/data ) et les logs de Traccar ( /opt/traccar/logs ) sur l'h\u00f4te. Vous pouvez changer ces chemins si n\u00e9cessaire. Ports : Le port 8082 est expos\u00e9 pour l'interface web de Traccar. La plage de ports 5000-5500 est \u00e9galement expos\u00e9e pour la communication avec les appareils GPS. Vous pouvez ajuster cette plage en fonction des ports requis par vos appareils. D\u00e9marrage des conteneurs Pour d\u00e9marrer tous les services, ex\u00e9cutez la commande suivante \u00e0 la racine du projet : sudo docker-compose up -d up : Cr\u00e9e et d\u00e9marre les conteneurs. -d : Ex\u00e9cute les conteneurs en arri\u00e8re-plan (detached mode). Les images Docker seront t\u00e9l\u00e9charg\u00e9es, et les conteneurs seront cr\u00e9\u00e9s et d\u00e9marr\u00e9s. Gestion des services Voir les logs : Pour voir les logs de tous les services : sudo docker-compose logs -f Pour voir les logs d'un service sp\u00e9cifique (par exemple, traccar ) : sudo docker-compose logs -f traccar Arr\u00eater les services : sudo docker-compose down Red\u00e9marrer les services : sudo docker-compose restart Acc\u00e8s \u00e0 l'interface Web Une fois les conteneurs d\u00e9marr\u00e9s, vous pouvez acc\u00e9der \u00e0 l'interface web de Traccar via l'URL que vous avez configur\u00e9e avec votre tunnel Cloudflare (par exemple, https://traccar.votredomaine.com ). Identifiant par d\u00e9faut : admin Mot de passe par d\u00e9faut : admin Il est fortement recommand\u00e9 de changer le mot de passe administrateur d\u00e8s votre premi\u00e8re connexion. Configuration de Traccar Avec cette configuration Docker, les param\u00e8tres de Traccar sont g\u00e9r\u00e9s via des variables d'environnement dans le fichier docker-compose.yml . Si vous avez besoin de modifier la configuration avanc\u00e9e, vous pouvez monter un fichier traccar.xml personnalis\u00e9 dans le conteneur traccar en ajoutant un volume : volumes: - /chemin/vers/votre/traccar.xml:/opt/traccar/conf/traccar.xml - /opt/traccar/logs:/opt/traccar/logs Consultez la documentation officielle de Traccar pour plus d'informations sur la configuration avec Docker.","title":"D\u00e9ploiement des serveurs Traccar"},{"location":"installation_docker/#installation-de-traccar-avec-docker","text":"Ce guide explique comment installer Traccar en utilisant Docker et Docker Compose. Cette m\u00e9thode est recommand\u00e9e car elle simplifie le d\u00e9ploiement et la gestion de Traccar et de ses d\u00e9pendances.","title":"Installation de Traccar avec Docker"},{"location":"installation_docker/#prerequis","text":"Un serveur Linux. Un acc\u00e8s root ou un utilisateur avec des privil\u00e8ges sudo . Docker et Docker Compose install\u00e9s.","title":"Pr\u00e9requis"},{"location":"installation_docker/#installer-dockerdocker-compose-sur-ubuntu-2204-ou-plus-recent","text":"D\u00e9sinstaller les anciens paquets si pr\u00e9sents : sudo apt remove docker docker-engine docker.io containerd runc Installer les d\u00e9pendances et ajouter la cl\u00e9 GPG officielle : sudo apt update sudo apt install -y ca-certificates curl gnupg sudo install -m 0755 -d /etc/apt/keyrings curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg sudo chmod a+r /etc/apt/keyrings/docker.gpg Ajouter le d\u00e9p\u00f4t Docker et installer le moteur avec le plugin Compose : echo \"deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu $(. /etc/os-release && echo \"$VERSION_CODENAME\") stable\" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null sudo apt update sudo apt install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin V\u00e9rifier que Docker et Compose fonctionnent : sudo docker run --rm hello-world docker compose version (Optionnel) Autoriser l\u2019utilisateur courant \u00e0 utiliser Docker sans sudo : sudo usermod -aG docker $USER newgrp docker","title":"Installer Docker/Docker Compose sur Ubuntu (22.04 ou plus r\u00e9cent)"},{"location":"installation_docker/#fichier-docker-composeyml","text":"Le fichier docker-compose.yml \u00e0 la racine de ce projet d\u00e9finit les services suivants : database : Un conteneur MySQL pour stocker les donn\u00e9es de Traccar. traccar : Le conteneur principal de Traccar. cloudflared : Un conteneur pour le tunnel Cloudflare, qui expose Traccar de mani\u00e8re s\u00e9curis\u00e9e. autoheal : Un conteneur qui surveille et red\u00e9marre les conteneurs en mauvaise sant\u00e9.","title":"Fichier docker-compose.yml"},{"location":"installation_docker/#personnalisation-du-docker-composeyml","text":"Volumes : Les volumes sont configur\u00e9s pour stocker les donn\u00e9es de la base de donn\u00e9es ( /opt/traccar/data ) et les logs de Traccar ( /opt/traccar/logs ) sur l'h\u00f4te. Vous pouvez changer ces chemins si n\u00e9cessaire. Ports : Le port 8082 est expos\u00e9 pour l'interface web de Traccar. La plage de ports 5000-5500 est \u00e9galement expos\u00e9e pour la communication avec les appareils GPS. Vous pouvez ajuster cette plage en fonction des ports requis par vos appareils.","title":"Personnalisation du docker-compose.yml"},{"location":"installation_docker/#demarrage-des-conteneurs","text":"Pour d\u00e9marrer tous les services, ex\u00e9cutez la commande suivante \u00e0 la racine du projet : sudo docker-compose up -d up : Cr\u00e9e et d\u00e9marre les conteneurs. -d : Ex\u00e9cute les conteneurs en arri\u00e8re-plan (detached mode). Les images Docker seront t\u00e9l\u00e9charg\u00e9es, et les conteneurs seront cr\u00e9\u00e9s et d\u00e9marr\u00e9s.","title":"D\u00e9marrage des conteneurs"},{"location":"installation_docker/#gestion-des-services","text":"Voir les logs : Pour voir les logs de tous les services : sudo docker-compose logs -f Pour voir les logs d'un service sp\u00e9cifique (par exemple, traccar ) : sudo docker-compose logs -f traccar Arr\u00eater les services : sudo docker-compose down Red\u00e9marrer les services : sudo docker-compose restart","title":"Gestion des services"},{"location":"installation_docker/#acces-a-linterface-web","text":"Une fois les conteneurs d\u00e9marr\u00e9s, vous pouvez acc\u00e9der \u00e0 l'interface web de Traccar via l'URL que vous avez configur\u00e9e avec votre tunnel Cloudflare (par exemple, https://traccar.votredomaine.com ). Identifiant par d\u00e9faut : admin Mot de passe par d\u00e9faut : admin Il est fortement recommand\u00e9 de changer le mot de passe administrateur d\u00e8s votre premi\u00e8re connexion.","title":"Acc\u00e8s \u00e0 l'interface Web"},{"location":"installation_docker/#configuration-de-traccar","text":"Avec cette configuration Docker, les param\u00e8tres de Traccar sont g\u00e9r\u00e9s via des variables d'environnement dans le fichier docker-compose.yml . Si vous avez besoin de modifier la configuration avanc\u00e9e, vous pouvez monter un fichier traccar.xml personnalis\u00e9 dans le conteneur traccar en ajoutant un volume : volumes: - /chemin/vers/votre/traccar.xml:/opt/traccar/conf/traccar.xml - /opt/traccar/logs:/opt/traccar/logs Consultez la documentation officielle de Traccar pour plus d'informations sur la configuration avec Docker.","title":"Configuration de Traccar"},{"location":"installation_vehicule/","text":"Installation dans le v\u00e9hicule Guide pour installer le tracker GPS dans un tracteur ou v\u00e9hicule agricole. Vue d'ensemble flowchart LR subgraph vehicule[\"V\u00e9hicule\"] BAT12[Batterie 12V] ACC[Accessoire/ACC] end subgraph alimentation[\"Alimentation\"] DCDC[Convertisseur<br/>12V \u2192 5V] FUSIBLE[Fusible 2A] end subgraph tracker[\"Tracker\"] LILYGO[LilyGo T-A7670G] ANTGPS[Antenne GPS] ANT4G[Antenne 4G] LIPO[Batterie LiPo<br/>Backup] end BAT12 --> FUSIBLE FUSIBLE --> DCDC DCDC --> LILYGO LIPO --> LILYGO ANTGPS --> LILYGO ANT4G --> LILYGO Mat\u00e9riel requis Composant Sp\u00e9cification Quantit\u00e9 Convertisseur DC-DC 12V \u2192 5V, 3A min 1 Fusible 2A, porte-fusible 1 C\u00e2ble alimentation 18 AWG, 2m 1 Bo\u00eetier \u00e9tanche IP65 minimum 1 Connecteur USB-C Coud\u00e9 90\u00b0 1 Serre-c\u00e2bles Assortis 10+ Ruban auto-vulcanisant Pour \u00e9tanch\u00e9it\u00e9 1 Cosse \u00e0 sertir Pour batterie 2 Choix de l'emplacement Crit\u00e8res R\u00e9ception GPS : Vue d\u00e9gag\u00e9e du ciel Signal 4G : Pas de blindage m\u00e9tallique Protection : \u00c0 l'abri de l'eau et vibrations Accessibilit\u00e9 : Pour maintenance Discr\u00e9tion : Non visible (anti-vol) Emplacements recommand\u00e9s Tracteur Sous le capot : Pr\u00e8s du pare-brise (bonne r\u00e9ception) Derri\u00e8re le tableau de bord : Prot\u00e9g\u00e9, acc\u00e8s facile Dans la cabine : Sous le si\u00e8ge ou derri\u00e8re le panneau V\u00e9hicule utilitaire Sous le tableau de bord : C\u00f4t\u00e9 passager Dans le coffre : Sous le tapis Pare-chocs : Avec bo\u00eetier \u00e9tanche Installation \u00e9lectrique Sch\u00e9ma de c\u00e2blage Batterie 12V (+) \u2500\u2500\u252c\u2500\u2500 Fusible 2A \u2500\u2500 DC-DC IN+ \u2500\u2500 DC-DC OUT+ \u2500\u2500 USB-C 5V \u2502 Masse v\u00e9hicule \u2500\u2500\u2500\u2500\u2534\u2500\u2500 DC-DC IN- \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 DC-DC OUT- \u2500\u2500 USB-C GND \u00c9tapes D\u00e9connecter la batterie du v\u00e9hicule (s\u00e9curit\u00e9) Installer le fusible Connecter au + batterie ou borne accessoire Fusible 2A pour prot\u00e9ger le circuit Connecter le convertisseur DC-DC IN+ \u2192 Fusible \u2192 Batterie +12V IN- \u2192 Masse v\u00e9hicule OUT+ \u2192 USB-C rouge (5V) OUT- \u2192 USB-C noir (GND) V\u00e9rifier la tension Mesurer la sortie: doit \u00eatre 5V \u00b1 0.25V V\u00e9rifier sans charge puis avec le tracker Reconnecter la batterie du v\u00e9hicule Option: Alimentation ACC Pour \u00e9teindre le tracker quand le v\u00e9hicule est arr\u00eat\u00e9: - Connecter IN+ sur la ligne accessoire (ACC) - Le tracker s'\u00e9teint avec le contact - La batterie LiPo prend le relais bri\u00e8vement Installation des antennes Antenne GPS Position critique - Doit voir le ciel! Montage magn\u00e9tique (recommand\u00e9) Placer sur le toit m\u00e9tallique C\u00e2ble pass\u00e9 par joint de porte Montage int\u00e9rieur Sous le pare-brise, c\u00f4t\u00e9 passager Performance r\u00e9duite (~30%) Montage adh\u00e9sif Sur tableau de bord, face vers le haut \u00c9viter les pare-brises athermiques Antenne 4G Moins critique que le GPS: \u00c0 l'int\u00e9rieur du bo\u00eetier: OK si plastique Externe: Meilleure r\u00e9ception en zone rurale \u00c9viter: Bo\u00eetiers m\u00e9talliques ferm\u00e9s Montage du bo\u00eetier Pr\u00e9paration Percer les trous pour: Passage c\u00e2ble alimentation Passage c\u00e2bles antennes (si externes) \u00c9tanch\u00e9ifier avec: Presse-\u00e9toupes IP68 Ou ruban auto-vulcanisant Fixation Velcro industriel : Facile \u00e0 retirer Serre-c\u00e2bles : Sur structure existante Vis : Sur surface plane (attention vibrations) Protection vibrations Mousse EVA sous le tracker \u00c9viter contact direct avec m\u00e9tal Serre-c\u00e2bles avec amortisseurs V\u00e9rification post-installation Checklist [ ] Alimentation: LED allum\u00e9e sur le tracker [ ] Tension: 5V stable au multim\u00e8tre [ ] GPS: Fix obtenu en < 2 minutes [ ] 4G: Connexion r\u00e9seau \u00e9tablie [ ] Transmission: Position visible sur Traccar [ ] \u00c9tanch\u00e9it\u00e9: Pas d'entr\u00e9e d'eau possible [ ] Fixation: Tracker bien attach\u00e9 [ ] Antennes: Bien connect\u00e9es et positionn\u00e9es Test fonctionnel D\u00e9marrer le v\u00e9hicule Attendre 2-3 minutes V\u00e9rifier sur Traccar: Position correcte Vitesse coh\u00e9rente Timestamp r\u00e9cent Faire un trajet test de 10 min V\u00e9rifier la trace GPS sur la carte D\u00e9pannage terrain Pas de fix GPS Repositionner l'antenne GPS (vue du ciel) V\u00e9rifier la connexion antenne (SMA bien viss\u00e9) Attendre 5 min pour cold start Pas de connexion 4G V\u00e9rifier la couverture r\u00e9seau (t\u00e9l\u00e9phone) Repositionner l'antenne 4G V\u00e9rifier la carte SIM (bien ins\u00e9r\u00e9e) Red\u00e9marrages fr\u00e9quents V\u00e9rifier la tension d'alimentation (5V stable) Ajouter condensateur 1000\u00b5F sur l'alimentation V\u00e9rifier les connexions (vibrations) Tracker ne d\u00e9marre pas V\u00e9rifier le fusible Mesurer la tension entr\u00e9e/sortie DC-DC Tester avec alimentation USB directe Maintenance Mensuelle V\u00e9rifier la fixation Nettoyer les antennes V\u00e9rifier les connexions Annuelle Inspecter le bo\u00eetier (\u00e9tanch\u00e9it\u00e9) V\u00e9rifier l'\u00e9tat de la batterie LiPo Mettre \u00e0 jour le firmware si n\u00e9cessaire Consid\u00e9rations l\u00e9gales V\u00e9hicules personnels : Installation libre V\u00e9hicules d'entreprise : Informer les conducteurs V\u00e9hicules de location : V\u00e9rifier la r\u00e9glementation locale S\u00e9n\u00e9gal : Pas de restriction connue pour usage priv\u00e9 Photos d'installation type \u00c0 compl\u00e9ter avec photos du projet Vue d'ensemble du montage Connexion alimentation Position antenne GPS Bo\u00eetier ferm\u00e9 install\u00e9","title":"Installation dans le v\u00e9hicule"},{"location":"installation_vehicule/#installation-dans-le-vehicule","text":"Guide pour installer le tracker GPS dans un tracteur ou v\u00e9hicule agricole.","title":"Installation dans le v\u00e9hicule"},{"location":"installation_vehicule/#vue-densemble","text":"flowchart LR subgraph vehicule[\"V\u00e9hicule\"] BAT12[Batterie 12V] ACC[Accessoire/ACC] end subgraph alimentation[\"Alimentation\"] DCDC[Convertisseur<br/>12V \u2192 5V] FUSIBLE[Fusible 2A] end subgraph tracker[\"Tracker\"] LILYGO[LilyGo T-A7670G] ANTGPS[Antenne GPS] ANT4G[Antenne 4G] LIPO[Batterie LiPo<br/>Backup] end BAT12 --> FUSIBLE FUSIBLE --> DCDC DCDC --> LILYGO LIPO --> LILYGO ANTGPS --> LILYGO ANT4G --> LILYGO","title":"Vue d'ensemble"},{"location":"installation_vehicule/#materiel-requis","text":"Composant Sp\u00e9cification Quantit\u00e9 Convertisseur DC-DC 12V \u2192 5V, 3A min 1 Fusible 2A, porte-fusible 1 C\u00e2ble alimentation 18 AWG, 2m 1 Bo\u00eetier \u00e9tanche IP65 minimum 1 Connecteur USB-C Coud\u00e9 90\u00b0 1 Serre-c\u00e2bles Assortis 10+ Ruban auto-vulcanisant Pour \u00e9tanch\u00e9it\u00e9 1 Cosse \u00e0 sertir Pour batterie 2","title":"Mat\u00e9riel requis"},{"location":"installation_vehicule/#choix-de-lemplacement","text":"","title":"Choix de l'emplacement"},{"location":"installation_vehicule/#criteres","text":"R\u00e9ception GPS : Vue d\u00e9gag\u00e9e du ciel Signal 4G : Pas de blindage m\u00e9tallique Protection : \u00c0 l'abri de l'eau et vibrations Accessibilit\u00e9 : Pour maintenance Discr\u00e9tion : Non visible (anti-vol)","title":"Crit\u00e8res"},{"location":"installation_vehicule/#emplacements-recommandes","text":"","title":"Emplacements recommand\u00e9s"},{"location":"installation_vehicule/#tracteur","text":"Sous le capot : Pr\u00e8s du pare-brise (bonne r\u00e9ception) Derri\u00e8re le tableau de bord : Prot\u00e9g\u00e9, acc\u00e8s facile Dans la cabine : Sous le si\u00e8ge ou derri\u00e8re le panneau","title":"Tracteur"},{"location":"installation_vehicule/#vehicule-utilitaire","text":"Sous le tableau de bord : C\u00f4t\u00e9 passager Dans le coffre : Sous le tapis Pare-chocs : Avec bo\u00eetier \u00e9tanche","title":"V\u00e9hicule utilitaire"},{"location":"installation_vehicule/#installation-electrique","text":"","title":"Installation \u00e9lectrique"},{"location":"installation_vehicule/#schema-de-cablage","text":"Batterie 12V (+) \u2500\u2500\u252c\u2500\u2500 Fusible 2A \u2500\u2500 DC-DC IN+ \u2500\u2500 DC-DC OUT+ \u2500\u2500 USB-C 5V \u2502 Masse v\u00e9hicule \u2500\u2500\u2500\u2500\u2534\u2500\u2500 DC-DC IN- \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 DC-DC OUT- \u2500\u2500 USB-C GND","title":"Sch\u00e9ma de c\u00e2blage"},{"location":"installation_vehicule/#etapes","text":"D\u00e9connecter la batterie du v\u00e9hicule (s\u00e9curit\u00e9) Installer le fusible Connecter au + batterie ou borne accessoire Fusible 2A pour prot\u00e9ger le circuit Connecter le convertisseur DC-DC IN+ \u2192 Fusible \u2192 Batterie +12V IN- \u2192 Masse v\u00e9hicule OUT+ \u2192 USB-C rouge (5V) OUT- \u2192 USB-C noir (GND) V\u00e9rifier la tension Mesurer la sortie: doit \u00eatre 5V \u00b1 0.25V V\u00e9rifier sans charge puis avec le tracker Reconnecter la batterie du v\u00e9hicule","title":"\u00c9tapes"},{"location":"installation_vehicule/#option-alimentation-acc","text":"Pour \u00e9teindre le tracker quand le v\u00e9hicule est arr\u00eat\u00e9: - Connecter IN+ sur la ligne accessoire (ACC) - Le tracker s'\u00e9teint avec le contact - La batterie LiPo prend le relais bri\u00e8vement","title":"Option: Alimentation ACC"},{"location":"installation_vehicule/#installation-des-antennes","text":"","title":"Installation des antennes"},{"location":"installation_vehicule/#antenne-gps","text":"Position critique - Doit voir le ciel! Montage magn\u00e9tique (recommand\u00e9) Placer sur le toit m\u00e9tallique C\u00e2ble pass\u00e9 par joint de porte Montage int\u00e9rieur Sous le pare-brise, c\u00f4t\u00e9 passager Performance r\u00e9duite (~30%) Montage adh\u00e9sif Sur tableau de bord, face vers le haut \u00c9viter les pare-brises athermiques","title":"Antenne GPS"},{"location":"installation_vehicule/#antenne-4g","text":"Moins critique que le GPS: \u00c0 l'int\u00e9rieur du bo\u00eetier: OK si plastique Externe: Meilleure r\u00e9ception en zone rurale \u00c9viter: Bo\u00eetiers m\u00e9talliques ferm\u00e9s","title":"Antenne 4G"},{"location":"installation_vehicule/#montage-du-boitier","text":"","title":"Montage du bo\u00eetier"},{"location":"installation_vehicule/#preparation","text":"Percer les trous pour: Passage c\u00e2ble alimentation Passage c\u00e2bles antennes (si externes) \u00c9tanch\u00e9ifier avec: Presse-\u00e9toupes IP68 Ou ruban auto-vulcanisant","title":"Pr\u00e9paration"},{"location":"installation_vehicule/#fixation","text":"Velcro industriel : Facile \u00e0 retirer Serre-c\u00e2bles : Sur structure existante Vis : Sur surface plane (attention vibrations)","title":"Fixation"},{"location":"installation_vehicule/#protection-vibrations","text":"Mousse EVA sous le tracker \u00c9viter contact direct avec m\u00e9tal Serre-c\u00e2bles avec amortisseurs","title":"Protection vibrations"},{"location":"installation_vehicule/#verification-post-installation","text":"","title":"V\u00e9rification post-installation"},{"location":"installation_vehicule/#checklist","text":"[ ] Alimentation: LED allum\u00e9e sur le tracker [ ] Tension: 5V stable au multim\u00e8tre [ ] GPS: Fix obtenu en < 2 minutes [ ] 4G: Connexion r\u00e9seau \u00e9tablie [ ] Transmission: Position visible sur Traccar [ ] \u00c9tanch\u00e9it\u00e9: Pas d'entr\u00e9e d'eau possible [ ] Fixation: Tracker bien attach\u00e9 [ ] Antennes: Bien connect\u00e9es et positionn\u00e9es","title":"Checklist"},{"location":"installation_vehicule/#test-fonctionnel","text":"D\u00e9marrer le v\u00e9hicule Attendre 2-3 minutes V\u00e9rifier sur Traccar: Position correcte Vitesse coh\u00e9rente Timestamp r\u00e9cent Faire un trajet test de 10 min V\u00e9rifier la trace GPS sur la carte","title":"Test fonctionnel"},{"location":"installation_vehicule/#depannage-terrain","text":"","title":"D\u00e9pannage terrain"},{"location":"installation_vehicule/#pas-de-fix-gps","text":"Repositionner l'antenne GPS (vue du ciel) V\u00e9rifier la connexion antenne (SMA bien viss\u00e9) Attendre 5 min pour cold start","title":"Pas de fix GPS"},{"location":"installation_vehicule/#pas-de-connexion-4g","text":"V\u00e9rifier la couverture r\u00e9seau (t\u00e9l\u00e9phone) Repositionner l'antenne 4G V\u00e9rifier la carte SIM (bien ins\u00e9r\u00e9e)","title":"Pas de connexion 4G"},{"location":"installation_vehicule/#redemarrages-frequents","text":"V\u00e9rifier la tension d'alimentation (5V stable) Ajouter condensateur 1000\u00b5F sur l'alimentation V\u00e9rifier les connexions (vibrations)","title":"Red\u00e9marrages fr\u00e9quents"},{"location":"installation_vehicule/#tracker-ne-demarre-pas","text":"V\u00e9rifier le fusible Mesurer la tension entr\u00e9e/sortie DC-DC Tester avec alimentation USB directe","title":"Tracker ne d\u00e9marre pas"},{"location":"installation_vehicule/#maintenance","text":"","title":"Maintenance"},{"location":"installation_vehicule/#mensuelle","text":"V\u00e9rifier la fixation Nettoyer les antennes V\u00e9rifier les connexions","title":"Mensuelle"},{"location":"installation_vehicule/#annuelle","text":"Inspecter le bo\u00eetier (\u00e9tanch\u00e9it\u00e9) V\u00e9rifier l'\u00e9tat de la batterie LiPo Mettre \u00e0 jour le firmware si n\u00e9cessaire","title":"Annuelle"},{"location":"installation_vehicule/#considerations-legales","text":"V\u00e9hicules personnels : Installation libre V\u00e9hicules d'entreprise : Informer les conducteurs V\u00e9hicules de location : V\u00e9rifier la r\u00e9glementation locale S\u00e9n\u00e9gal : Pas de restriction connue pour usage priv\u00e9","title":"Consid\u00e9rations l\u00e9gales"},{"location":"installation_vehicule/#photos-dinstallation-type","text":"\u00c0 compl\u00e9ter avec photos du projet Vue d'ensemble du montage Connexion alimentation Position antenne GPS Bo\u00eetier ferm\u00e9 install\u00e9","title":"Photos d'installation type"},{"location":"programmation_liligo_a7670g/","text":"Code GPS Tracker - LilyGo A7670G pour Traccar Ce dossier contient le code Arduino pour le module LilyGo A7670G afin d'envoyer les donn\u00e9es GPS au serveur Traccar. \ud83d\udccb Fonctionnalit\u00e9s \u2705 Envoi automatique des donn\u00e9es GPS toutes les 2 minutes \u2705 Serveur Traccar: serveur1d.trackteur.cc:5055 \u2705 Logique de retry avec 3 tentatives en cas d'\u00e9chec \u2705 Sauvegarde automatique sur carte SD si l'envoi \u00e9choue \u2705 Mode veille pour \u00e9conomiser la batterie \u2705 Support GPS/GLONASS/BeiDou/Galileo \u2705 Format CSV pour les donn\u00e9es sauvegard\u00e9es \ud83d\udd27 Pr\u00e9requis Mat\u00e9riel LilyGo T-A7670G (avec GPS int\u00e9gr\u00e9) Carte SIM avec donn\u00e9es mobiles actives Carte microSD (optionnel, pour backup) Antenne GPS Antenne 4G/LTE Logiciel Arduino IDE 1.8.x ou 2.x Biblioth\u00e8que TinyGSM (version fork LilyGo) ESP32 Board Support Package \ud83d\udce6 Installation 1. Installation de l'Arduino IDE T\u00e9l\u00e9chargez et installez Arduino IDE depuis arduino.cc 2. Installation du support ESP32 Ouvrez Arduino IDE Allez dans File > Preferences Dans \"Additional Board Manager URLs\", ajoutez: https://raw.githubusercontent.com/espressif/arduino-esp32/gh-pages/package_esp32_index.json Allez dans Tools > Board > Boards Manager Recherchez \"ESP32\" et installez \"esp32 by Espressif Systems\" 3. Installation de la biblioth\u00e8que TinyGSM \u26a0\ufe0f IMPORTANT : Utilisez la version fork de LilyGo, pas la version standard! T\u00e9l\u00e9chargez le d\u00e9p\u00f4t: https://github.com/Xinyuan-LilyGO/LilyGO-T-A76XX Copiez tous les dossiers du r\u00e9pertoire lib vers le dossier Arduino libraries: Windows: C:\\Users\\[VotreNom]\\Documents\\Arduino\\libraries\\ Mac: ~/Documents/Arduino/libraries/ Linux: ~/Arduino/libraries/ Les biblioth\u00e8ques n\u00e9cessaires sont: - TinyGSM (fork LilyGo) - StreamDebugger (si DUMP_AT_COMMANDS est activ\u00e9) 4. Configuration du code Ouvrez le fichier TraccarGPS.ino et modifiez les param\u00e8tres suivants: // ID unique de votre appareil (OBLIGATOIRE) const char *client_id = \"DEVICE_ID_001\"; // Remplacez par un ID unique // URL du serveur Traccar (d\u00e9j\u00e0 configur\u00e9) const char *request_url = \"http://serveur1d.trackteur.cc:5055\"; // APN de votre op\u00e9rateur (si n\u00e9cessaire) // D\u00e9commentez et modifiez selon votre op\u00e9rateur: // #define NETWORK_APN \"internet\" // Orange/Sosh // #define NETWORK_APN \"free\" // Free Mobile // #define NETWORK_APN \"sl2sfr\" // SFR // #define NETWORK_APN \"mmsbouygtel.com\" // Bouygues 5. Configuration de la carte dans Arduino IDE Connectez la carte LilyGo A7670G via USB Dans Arduino IDE: Tools > Board > ESP32 Arduino > ESP32 Dev Module Tools > Port > S\u00e9lectionnez le port COM correspondant Tools > Upload Speed > 115200 Tools > Flash Size > 4MB (32Mb) Tools > Partition Scheme > Default 4MB with spiffs 6. Compilation et t\u00e9l\u00e9versement V\u00e9rifiez le code: Cliquez sur \u2713 (Verify) T\u00e9l\u00e9versez: Cliquez sur \u2192 (Upload) Ouvrez le moniteur s\u00e9rie: Tools > Serial Monitor Configurez le baud rate \u00e0 115200 \ud83d\udcca Format des donn\u00e9es Donn\u00e9es envoy\u00e9es \u00e0 Traccar Le code envoie les donn\u00e9es au format Traccar OsmAnd protocol: http://serveur1d.trackteur.cc:5055/?id=DEVICE_ID&lat=48.8566&lon=2.3522&speed=15.5&altitude=35.2&bearing=270&timestamp=2025-12-08T10:30:00Z&hdop=1.2&batt=100 Donn\u00e9es sauvegard\u00e9es sur SD (CSV) Format du fichier gps_data.csv : timestamp,latitude,longitude,speed,altitude,bearing,hdop 2025-12-08 10:30:00,48.8566000,2.3522000,15.50,35.20,270.00,1.20 \ud83d\udd0d Diagnostic LED de statut LED allum\u00e9e: GPS en cours de lecture LED \u00e9teinte: Mode veille Moniteur s\u00e9rie Le moniteur s\u00e9rie affiche: - \u00c9tat du modem (d\u00e9marrage, enregistrement r\u00e9seau) - \u00c9tat de la carte SIM - Qualit\u00e9 du signal - Donn\u00e9es GPS re\u00e7ues - R\u00e9sultat des envois HTTP - Sauvegarde sur SD Messages d'erreur courants Erreur Solution No SD card attached V\u00e9rifiez que la carte SD est bien ins\u00e9r\u00e9e Network registration denied V\u00e9rifiez l'APN et que la carte SIM a un forfait data actif HTTP request failed! Error code: XXX V\u00e9rifiez la connexion r\u00e9seau et l'URL du serveur GPS fix not available Placez l'antenne GPS \u00e0 l'ext\u00e9rieur ou pr\u00e8s d'une fen\u00eatre SIM card locked D\u00e9verrouillez la carte SIM (retirez le code PIN) \ud83d\udce1 Configuration Traccar Ajout de l'appareil sur le serveur Connectez-vous \u00e0 votre serveur Traccar: http://serveur1d.trackteur.cc Allez dans Settings > Devices > Add Device Configurez: Name : Nom de votre tracker Identifier : L'ID que vous avez mis dans client_id (ex: DEVICE_ID_001) Group : (optionnel) Cliquez sur Add V\u00e9rification de la r\u00e9ception Dans Traccar, s\u00e9lectionnez votre appareil Vous devriez voir la position mise \u00e0 jour toutes les 2 minutes Consultez les logs pour voir les donn\u00e9es re\u00e7ues \u26a1 Consommation d'\u00e9nergie Lecture GPS + Envoi : ~350-500 mA Mode veille : ~2-3 mA Cycle complet (2 min) : Moyenne ~5-10 mA \ud83d\udca1 Pour une batterie de 3000 mAh, autonomie estim\u00e9e: 12-25 jours \ud83d\udee0\ufe0f Personnalisation Modifier l'intervalle d'envoi #define REPORT_LOCATION_RATE_SECOND 120 // 120 = 2 minutes Modifier le nombre de retry #define MAX_RETRY_ATTEMPTS 3 // Nombre de tentatives D\u00e9sactiver la sauvegarde SD #define USE_SD_CARD false Activer le debug AT D\u00e9commentez pour voir toutes les commandes AT: #define DUMP_AT_COMMANDS \ud83d\udcdd Structure du projet code/ \u251c\u2500\u2500 README.md # Ce fichier \u2514\u2500\u2500 TraccarGPS/ \u251c\u2500\u2500 TraccarGPS.ino # Code principal \u2514\u2500\u2500 utilities.h # Configuration des pins \ud83d\udd12 S\u00e9curit\u00e9 \u26a0\ufe0f Important : - Ne partagez pas votre client_id publiquement - Utilisez un ID unique pour chaque appareil - Changez les identifiants par d\u00e9faut \ud83c\udd98 Support Pour obtenir de l'aide: 1. V\u00e9rifiez les messages du moniteur s\u00e9rie 2. Consultez la documentation LilyGo: https://github.com/Xinyuan-LilyGO/LilyGO-T-A76XX 3. Documentation Traccar: https://www.traccar.org/osmand/ \ud83d\udcc4 Licence MIT License - Libre d'utilisation et de modification \ud83d\udd04 Changelog Version 1.0 (2025-12-08) Envoi initial vers serveur1d.trackteur.cc Support carte SD avec sauvegarde CSV Logique de retry (3 tentatives) Intervalle de 2 minutes Mode veille pour \u00e9conomie d'\u00e9nergie","title":"Programmation du Lilygo A7670G"},{"location":"programmation_liligo_a7670g/#code-gps-tracker-lilygo-a7670g-pour-traccar","text":"Ce dossier contient le code Arduino pour le module LilyGo A7670G afin d'envoyer les donn\u00e9es GPS au serveur Traccar.","title":"Code GPS Tracker - LilyGo A7670G pour Traccar"},{"location":"programmation_liligo_a7670g/#fonctionnalites","text":"\u2705 Envoi automatique des donn\u00e9es GPS toutes les 2 minutes \u2705 Serveur Traccar: serveur1d.trackteur.cc:5055 \u2705 Logique de retry avec 3 tentatives en cas d'\u00e9chec \u2705 Sauvegarde automatique sur carte SD si l'envoi \u00e9choue \u2705 Mode veille pour \u00e9conomiser la batterie \u2705 Support GPS/GLONASS/BeiDou/Galileo \u2705 Format CSV pour les donn\u00e9es sauvegard\u00e9es","title":"\ud83d\udccb Fonctionnalit\u00e9s"},{"location":"programmation_liligo_a7670g/#prerequis","text":"","title":"\ud83d\udd27 Pr\u00e9requis"},{"location":"programmation_liligo_a7670g/#materiel","text":"LilyGo T-A7670G (avec GPS int\u00e9gr\u00e9) Carte SIM avec donn\u00e9es mobiles actives Carte microSD (optionnel, pour backup) Antenne GPS Antenne 4G/LTE","title":"Mat\u00e9riel"},{"location":"programmation_liligo_a7670g/#logiciel","text":"Arduino IDE 1.8.x ou 2.x Biblioth\u00e8que TinyGSM (version fork LilyGo) ESP32 Board Support Package","title":"Logiciel"},{"location":"programmation_liligo_a7670g/#installation","text":"","title":"\ud83d\udce6 Installation"},{"location":"programmation_liligo_a7670g/#1-installation-de-larduino-ide","text":"T\u00e9l\u00e9chargez et installez Arduino IDE depuis arduino.cc","title":"1. Installation de l'Arduino IDE"},{"location":"programmation_liligo_a7670g/#2-installation-du-support-esp32","text":"Ouvrez Arduino IDE Allez dans File > Preferences Dans \"Additional Board Manager URLs\", ajoutez: https://raw.githubusercontent.com/espressif/arduino-esp32/gh-pages/package_esp32_index.json Allez dans Tools > Board > Boards Manager Recherchez \"ESP32\" et installez \"esp32 by Espressif Systems\"","title":"2. Installation du support ESP32"},{"location":"programmation_liligo_a7670g/#3-installation-de-la-bibliotheque-tinygsm","text":"\u26a0\ufe0f IMPORTANT : Utilisez la version fork de LilyGo, pas la version standard! T\u00e9l\u00e9chargez le d\u00e9p\u00f4t: https://github.com/Xinyuan-LilyGO/LilyGO-T-A76XX Copiez tous les dossiers du r\u00e9pertoire lib vers le dossier Arduino libraries: Windows: C:\\Users\\[VotreNom]\\Documents\\Arduino\\libraries\\ Mac: ~/Documents/Arduino/libraries/ Linux: ~/Arduino/libraries/ Les biblioth\u00e8ques n\u00e9cessaires sont: - TinyGSM (fork LilyGo) - StreamDebugger (si DUMP_AT_COMMANDS est activ\u00e9)","title":"3. Installation de la biblioth\u00e8que TinyGSM"},{"location":"programmation_liligo_a7670g/#4-configuration-du-code","text":"Ouvrez le fichier TraccarGPS.ino et modifiez les param\u00e8tres suivants: // ID unique de votre appareil (OBLIGATOIRE) const char *client_id = \"DEVICE_ID_001\"; // Remplacez par un ID unique // URL du serveur Traccar (d\u00e9j\u00e0 configur\u00e9) const char *request_url = \"http://serveur1d.trackteur.cc:5055\"; // APN de votre op\u00e9rateur (si n\u00e9cessaire) // D\u00e9commentez et modifiez selon votre op\u00e9rateur: // #define NETWORK_APN \"internet\" // Orange/Sosh // #define NETWORK_APN \"free\" // Free Mobile // #define NETWORK_APN \"sl2sfr\" // SFR // #define NETWORK_APN \"mmsbouygtel.com\" // Bouygues","title":"4. Configuration du code"},{"location":"programmation_liligo_a7670g/#5-configuration-de-la-carte-dans-arduino-ide","text":"Connectez la carte LilyGo A7670G via USB Dans Arduino IDE: Tools > Board > ESP32 Arduino > ESP32 Dev Module Tools > Port > S\u00e9lectionnez le port COM correspondant Tools > Upload Speed > 115200 Tools > Flash Size > 4MB (32Mb) Tools > Partition Scheme > Default 4MB with spiffs","title":"5. Configuration de la carte dans Arduino IDE"},{"location":"programmation_liligo_a7670g/#6-compilation-et-televersement","text":"V\u00e9rifiez le code: Cliquez sur \u2713 (Verify) T\u00e9l\u00e9versez: Cliquez sur \u2192 (Upload) Ouvrez le moniteur s\u00e9rie: Tools > Serial Monitor Configurez le baud rate \u00e0 115200","title":"6. Compilation et t\u00e9l\u00e9versement"},{"location":"programmation_liligo_a7670g/#format-des-donnees","text":"","title":"\ud83d\udcca Format des donn\u00e9es"},{"location":"programmation_liligo_a7670g/#donnees-envoyees-a-traccar","text":"Le code envoie les donn\u00e9es au format Traccar OsmAnd protocol: http://serveur1d.trackteur.cc:5055/?id=DEVICE_ID&lat=48.8566&lon=2.3522&speed=15.5&altitude=35.2&bearing=270&timestamp=2025-12-08T10:30:00Z&hdop=1.2&batt=100","title":"Donn\u00e9es envoy\u00e9es \u00e0 Traccar"},{"location":"programmation_liligo_a7670g/#donnees-sauvegardees-sur-sd-csv","text":"Format du fichier gps_data.csv : timestamp,latitude,longitude,speed,altitude,bearing,hdop 2025-12-08 10:30:00,48.8566000,2.3522000,15.50,35.20,270.00,1.20","title":"Donn\u00e9es sauvegard\u00e9es sur SD (CSV)"},{"location":"programmation_liligo_a7670g/#diagnostic","text":"","title":"\ud83d\udd0d Diagnostic"},{"location":"programmation_liligo_a7670g/#led-de-statut","text":"LED allum\u00e9e: GPS en cours de lecture LED \u00e9teinte: Mode veille","title":"LED de statut"},{"location":"programmation_liligo_a7670g/#moniteur-serie","text":"Le moniteur s\u00e9rie affiche: - \u00c9tat du modem (d\u00e9marrage, enregistrement r\u00e9seau) - \u00c9tat de la carte SIM - Qualit\u00e9 du signal - Donn\u00e9es GPS re\u00e7ues - R\u00e9sultat des envois HTTP - Sauvegarde sur SD","title":"Moniteur s\u00e9rie"},{"location":"programmation_liligo_a7670g/#messages-derreur-courants","text":"Erreur Solution No SD card attached V\u00e9rifiez que la carte SD est bien ins\u00e9r\u00e9e Network registration denied V\u00e9rifiez l'APN et que la carte SIM a un forfait data actif HTTP request failed! Error code: XXX V\u00e9rifiez la connexion r\u00e9seau et l'URL du serveur GPS fix not available Placez l'antenne GPS \u00e0 l'ext\u00e9rieur ou pr\u00e8s d'une fen\u00eatre SIM card locked D\u00e9verrouillez la carte SIM (retirez le code PIN)","title":"Messages d'erreur courants"},{"location":"programmation_liligo_a7670g/#configuration-traccar","text":"","title":"\ud83d\udce1 Configuration Traccar"},{"location":"programmation_liligo_a7670g/#ajout-de-lappareil-sur-le-serveur","text":"Connectez-vous \u00e0 votre serveur Traccar: http://serveur1d.trackteur.cc Allez dans Settings > Devices > Add Device Configurez: Name : Nom de votre tracker Identifier : L'ID que vous avez mis dans client_id (ex: DEVICE_ID_001) Group : (optionnel) Cliquez sur Add","title":"Ajout de l'appareil sur le serveur"},{"location":"programmation_liligo_a7670g/#verification-de-la-reception","text":"Dans Traccar, s\u00e9lectionnez votre appareil Vous devriez voir la position mise \u00e0 jour toutes les 2 minutes Consultez les logs pour voir les donn\u00e9es re\u00e7ues","title":"V\u00e9rification de la r\u00e9ception"},{"location":"programmation_liligo_a7670g/#consommation-denergie","text":"Lecture GPS + Envoi : ~350-500 mA Mode veille : ~2-3 mA Cycle complet (2 min) : Moyenne ~5-10 mA \ud83d\udca1 Pour une batterie de 3000 mAh, autonomie estim\u00e9e: 12-25 jours","title":"\u26a1 Consommation d'\u00e9nergie"},{"location":"programmation_liligo_a7670g/#personnalisation","text":"","title":"\ud83d\udee0\ufe0f Personnalisation"},{"location":"programmation_liligo_a7670g/#modifier-lintervalle-denvoi","text":"#define REPORT_LOCATION_RATE_SECOND 120 // 120 = 2 minutes","title":"Modifier l'intervalle d'envoi"},{"location":"programmation_liligo_a7670g/#modifier-le-nombre-de-retry","text":"#define MAX_RETRY_ATTEMPTS 3 // Nombre de tentatives","title":"Modifier le nombre de retry"},{"location":"programmation_liligo_a7670g/#desactiver-la-sauvegarde-sd","text":"#define USE_SD_CARD false","title":"D\u00e9sactiver la sauvegarde SD"},{"location":"programmation_liligo_a7670g/#activer-le-debug-at","text":"D\u00e9commentez pour voir toutes les commandes AT: #define DUMP_AT_COMMANDS","title":"Activer le debug AT"},{"location":"programmation_liligo_a7670g/#structure-du-projet","text":"code/ \u251c\u2500\u2500 README.md # Ce fichier \u2514\u2500\u2500 TraccarGPS/ \u251c\u2500\u2500 TraccarGPS.ino # Code principal \u2514\u2500\u2500 utilities.h # Configuration des pins","title":"\ud83d\udcdd Structure du projet"},{"location":"programmation_liligo_a7670g/#securite","text":"\u26a0\ufe0f Important : - Ne partagez pas votre client_id publiquement - Utilisez un ID unique pour chaque appareil - Changez les identifiants par d\u00e9faut","title":"\ud83d\udd12 S\u00e9curit\u00e9"},{"location":"programmation_liligo_a7670g/#support","text":"Pour obtenir de l'aide: 1. V\u00e9rifiez les messages du moniteur s\u00e9rie 2. Consultez la documentation LilyGo: https://github.com/Xinyuan-LilyGO/LilyGO-T-A76XX 3. Documentation Traccar: https://www.traccar.org/osmand/","title":"\ud83c\udd98 Support"},{"location":"programmation_liligo_a7670g/#licence","text":"MIT License - Libre d'utilisation et de modification","title":"\ud83d\udcc4 Licence"},{"location":"programmation_liligo_a7670g/#changelog","text":"","title":"\ud83d\udd04 Changelog"},{"location":"programmation_liligo_a7670g/#version-10-2025-12-08","text":"Envoi initial vers serveur1d.trackteur.cc Support carte SD avec sauvegarde CSV Logique de retry (3 tentatives) Intervalle de 2 minutes Mode veille pour \u00e9conomie d'\u00e9nergie","title":"Version 1.0 (2025-12-08)"}]}