{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Installation de Traccar avec Docker Ce guide explique comment installer Traccar en utilisant Docker et Docker Compose. Cette m\u00e9thode est recommand\u00e9e car elle simplifie le d\u00e9ploiement et la gestion de Traccar et de ses d\u00e9pendances. Pr\u00e9requis Un serveur Linux. Un acc\u00e8s root ou un utilisateur avec des privil\u00e8ges sudo . Docker et Docker Compose install\u00e9s. Installer Docker/Docker Compose sur Ubuntu (22.04 ou plus r\u00e9cent) D\u00e9sinstaller les anciens paquets si pr\u00e9sents : bash sudo apt remove docker docker-engine docker.io containerd runc Installer les d\u00e9pendances et ajouter la cl\u00e9 GPG officielle : bash sudo apt update sudo apt install -y ca-certificates curl gnupg sudo install -m 0755 -d /etc/apt/keyrings curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg sudo chmod a+r /etc/apt/keyrings/docker.gpg Ajouter le d\u00e9p\u00f4t Docker et installer le moteur avec le plugin Compose : bash echo \"deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu $(. /etc/os-release && echo \"$VERSION_CODENAME\") stable\" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null sudo apt update sudo apt install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin V\u00e9rifier que Docker et Compose fonctionnent : bash sudo docker run --rm hello-world docker compose version (Optionnel) Autoriser l\u2019utilisateur courant \u00e0 utiliser Docker sans sudo : bash sudo usermod -aG docker $USER newgrp docker Fichier docker-compose.yml Le fichier docker-compose.yml \u00e0 la racine de ce projet d\u00e9finit les services suivants : database : Un conteneur MySQL pour stocker les donn\u00e9es de Traccar. traccar : Le conteneur principal de Traccar. cloudflared : Un conteneur pour le tunnel Cloudflare, qui expose Traccar de mani\u00e8re s\u00e9curis\u00e9e. autoheal : Un conteneur qui surveille et red\u00e9marre les conteneurs en mauvaise sant\u00e9. Personnalisation du docker-compose.yml Volumes : Les volumes sont configur\u00e9s pour stocker les donn\u00e9es de la base de donn\u00e9es ( /opt/traccar/data ) et les logs de Traccar ( /opt/traccar/logs ) sur l'h\u00f4te. Vous pouvez changer ces chemins si n\u00e9cessaire. Ports : Le port 8082 est expos\u00e9 pour l'interface web de Traccar. La plage de ports 5000-5500 est \u00e9galement expos\u00e9e pour la communication avec les appareils GPS. Vous pouvez ajuster cette plage en fonction des ports requis par vos appareils. D\u00e9marrage des conteneurs Pour d\u00e9marrer tous les services, ex\u00e9cutez la commande suivante \u00e0 la racine du projet : sudo docker-compose up -d up : Cr\u00e9e et d\u00e9marre les conteneurs. -d : Ex\u00e9cute les conteneurs en arri\u00e8re-plan (detached mode). Les images Docker seront t\u00e9l\u00e9charg\u00e9es, et les conteneurs seront cr\u00e9\u00e9s et d\u00e9marr\u00e9s. Gestion des services Voir les logs : Pour voir les logs de tous les services : bash sudo docker-compose logs -f Pour voir les logs d'un service sp\u00e9cifique (par exemple, traccar ) : bash sudo docker-compose logs -f traccar Arr\u00eater les services : bash sudo docker-compose down Red\u00e9marrer les services : bash sudo docker-compose restart Acc\u00e8s \u00e0 l'interface Web Une fois les conteneurs d\u00e9marr\u00e9s, vous pouvez acc\u00e9der \u00e0 l'interface web de Traccar via l'URL que vous avez configur\u00e9e avec votre tunnel Cloudflare (par exemple, https://traccar.votredomaine.com ). Identifiant par d\u00e9faut : admin Mot de passe par d\u00e9faut : admin Il est fortement recommand\u00e9 de changer le mot de passe administrateur d\u00e8s votre premi\u00e8re connexion. Configuration de Traccar Avec cette configuration Docker, les param\u00e8tres de Traccar sont g\u00e9r\u00e9s via des variables d'environnement dans le fichier docker-compose.yml . Si vous avez besoin de modifier la configuration avanc\u00e9e, vous pouvez monter un fichier traccar.xml personnalis\u00e9 dans le conteneur traccar en ajoutant un volume : volumes: - /chemin/vers/votre/traccar.xml:/opt/traccar/conf/traccar.xml - /opt/traccar/logs:/opt/traccar/logs Consultez la documentation officielle de Traccar pour plus d'informations sur la configuration avec Docker.","title":"Accueil"},{"location":"#installation-de-traccar-avec-docker","text":"Ce guide explique comment installer Traccar en utilisant Docker et Docker Compose. Cette m\u00e9thode est recommand\u00e9e car elle simplifie le d\u00e9ploiement et la gestion de Traccar et de ses d\u00e9pendances.","title":"Installation de Traccar avec Docker"},{"location":"#prerequis","text":"Un serveur Linux. Un acc\u00e8s root ou un utilisateur avec des privil\u00e8ges sudo . Docker et Docker Compose install\u00e9s.","title":"Pr\u00e9requis"},{"location":"#installer-dockerdocker-compose-sur-ubuntu-2204-ou-plus-recent","text":"D\u00e9sinstaller les anciens paquets si pr\u00e9sents : bash sudo apt remove docker docker-engine docker.io containerd runc Installer les d\u00e9pendances et ajouter la cl\u00e9 GPG officielle : bash sudo apt update sudo apt install -y ca-certificates curl gnupg sudo install -m 0755 -d /etc/apt/keyrings curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg sudo chmod a+r /etc/apt/keyrings/docker.gpg Ajouter le d\u00e9p\u00f4t Docker et installer le moteur avec le plugin Compose : bash echo \"deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu $(. /etc/os-release && echo \"$VERSION_CODENAME\") stable\" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null sudo apt update sudo apt install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin V\u00e9rifier que Docker et Compose fonctionnent : bash sudo docker run --rm hello-world docker compose version (Optionnel) Autoriser l\u2019utilisateur courant \u00e0 utiliser Docker sans sudo : bash sudo usermod -aG docker $USER newgrp docker","title":"Installer Docker/Docker Compose sur Ubuntu (22.04 ou plus r\u00e9cent)"},{"location":"#fichier-docker-composeyml","text":"Le fichier docker-compose.yml \u00e0 la racine de ce projet d\u00e9finit les services suivants : database : Un conteneur MySQL pour stocker les donn\u00e9es de Traccar. traccar : Le conteneur principal de Traccar. cloudflared : Un conteneur pour le tunnel Cloudflare, qui expose Traccar de mani\u00e8re s\u00e9curis\u00e9e. autoheal : Un conteneur qui surveille et red\u00e9marre les conteneurs en mauvaise sant\u00e9.","title":"Fichier docker-compose.yml"},{"location":"#personnalisation-du-docker-composeyml","text":"Volumes : Les volumes sont configur\u00e9s pour stocker les donn\u00e9es de la base de donn\u00e9es ( /opt/traccar/data ) et les logs de Traccar ( /opt/traccar/logs ) sur l'h\u00f4te. Vous pouvez changer ces chemins si n\u00e9cessaire. Ports : Le port 8082 est expos\u00e9 pour l'interface web de Traccar. La plage de ports 5000-5500 est \u00e9galement expos\u00e9e pour la communication avec les appareils GPS. Vous pouvez ajuster cette plage en fonction des ports requis par vos appareils.","title":"Personnalisation du docker-compose.yml"},{"location":"#demarrage-des-conteneurs","text":"Pour d\u00e9marrer tous les services, ex\u00e9cutez la commande suivante \u00e0 la racine du projet : sudo docker-compose up -d up : Cr\u00e9e et d\u00e9marre les conteneurs. -d : Ex\u00e9cute les conteneurs en arri\u00e8re-plan (detached mode). Les images Docker seront t\u00e9l\u00e9charg\u00e9es, et les conteneurs seront cr\u00e9\u00e9s et d\u00e9marr\u00e9s.","title":"D\u00e9marrage des conteneurs"},{"location":"#gestion-des-services","text":"Voir les logs : Pour voir les logs de tous les services : bash sudo docker-compose logs -f Pour voir les logs d'un service sp\u00e9cifique (par exemple, traccar ) : bash sudo docker-compose logs -f traccar Arr\u00eater les services : bash sudo docker-compose down Red\u00e9marrer les services : bash sudo docker-compose restart","title":"Gestion des services"},{"location":"#acces-a-linterface-web","text":"Une fois les conteneurs d\u00e9marr\u00e9s, vous pouvez acc\u00e9der \u00e0 l'interface web de Traccar via l'URL que vous avez configur\u00e9e avec votre tunnel Cloudflare (par exemple, https://traccar.votredomaine.com ). Identifiant par d\u00e9faut : admin Mot de passe par d\u00e9faut : admin Il est fortement recommand\u00e9 de changer le mot de passe administrateur d\u00e8s votre premi\u00e8re connexion.","title":"Acc\u00e8s \u00e0 l'interface Web"},{"location":"#configuration-de-traccar","text":"Avec cette configuration Docker, les param\u00e8tres de Traccar sont g\u00e9r\u00e9s via des variables d'environnement dans le fichier docker-compose.yml . Si vous avez besoin de modifier la configuration avanc\u00e9e, vous pouvez monter un fichier traccar.xml personnalis\u00e9 dans le conteneur traccar en ajoutant un volume : volumes: - /chemin/vers/votre/traccar.xml:/opt/traccar/conf/traccar.xml - /opt/traccar/logs:/opt/traccar/logs Consultez la documentation officielle de Traccar pour plus d'informations sur la configuration avec Docker.","title":"Configuration de Traccar"},{"location":"configuration_cloudflare/","text":"Configuration de Cloudflare Tunnel Ce guide explique comment configurer un tunnel Cloudflare pour exposer votre instance Traccar de mani\u00e8re s\u00e9curis\u00e9e. Pr\u00e9requis Un compte Cloudflare actif. Un nom de domaine enregistr\u00e9 et g\u00e9r\u00e9 par Cloudflare. Traccar fonctionnant (via Docker ou une autre m\u00e9thode). 1. Cr\u00e9er le fichier .env Le service cloudflared a besoin d'un token de tunnel pour s'authentifier aupr\u00e8s de Cloudflare. Ce token est fourni via une variable d'environnement. Cr\u00e9ez un fichier .env \u00e0 la racine du projet : bash touch .env Ajoutez votre token de tunnel Cloudflare au fichier .env : TUNNEL_TOKEN=<VOTRE_TOKEN_DE_TUNNEL_CLOUDFLARE> Remplacez <VOTRE_TOKEN_DE_TUNNEL_CLOUDFLARE> par le token que vous obtiendrez \u00e0 l'\u00e9tape suivante. 2. Cr\u00e9er le tunnel Cloudflare Sur le dashboard Cloudflare, assurez-vous que votre domaine (ex. votredomaine.com ) est g\u00e9r\u00e9 par Cloudflare. Rendez-vous dans Zero Trust \u2192 Networks \u2192 Tunnels puis Add a tunnel / Create a tunnel . Choisissez Docker comme m\u00e9thode d\u2019installation. Copiez le token fourni (il ressemble \u00e0 ey... ). C'est votre TUNNEL_TOKEN . Collez-le dans votre fichier .env . Dans la section Public Hostnames , cr\u00e9ez un enregistrement : Subdomain : traccar (ou ce que vous pr\u00e9f\u00e9rez). Domain : Votre domaine. Service : HTTP et http://traccar:8082 . Enregistrez le tunnel. 3. D\u00e9marrer les services Si ce n'est pas d\u00e9j\u00e0 fait, d\u00e9marrez la stack Docker : sudo docker-compose up -d Le conteneur cloudflared devrait maintenant d\u00e9marrer et \u00e9tablir la connexion avec Cloudflare. 4. Acc\u00e9der \u00e0 Traccar Une fois que cloudflared est en cours d'ex\u00e9cution, vous pouvez acc\u00e9der \u00e0 l'interface de Traccar via l'URL que vous avez configur\u00e9e (par exemple, https://traccar.votredomaine.com ). Notes utiles Vous pouvez retirer le mapping de port 8082:8082 du service traccar dans docker-compose.yml pour n'exposer Traccar qu'\u00e0 travers le tunnel Cloudflare. Pour ajouter d'autres services, vous pouvez ajouter des \"Public Hostnames\" \u00e0 votre tunnel.","title":"Configuration de Cloudflare"},{"location":"configuration_cloudflare/#configuration-de-cloudflare-tunnel","text":"Ce guide explique comment configurer un tunnel Cloudflare pour exposer votre instance Traccar de mani\u00e8re s\u00e9curis\u00e9e.","title":"Configuration de Cloudflare Tunnel"},{"location":"configuration_cloudflare/#prerequis","text":"Un compte Cloudflare actif. Un nom de domaine enregistr\u00e9 et g\u00e9r\u00e9 par Cloudflare. Traccar fonctionnant (via Docker ou une autre m\u00e9thode).","title":"Pr\u00e9requis"},{"location":"configuration_cloudflare/#1-creer-le-fichier-env","text":"Le service cloudflared a besoin d'un token de tunnel pour s'authentifier aupr\u00e8s de Cloudflare. Ce token est fourni via une variable d'environnement. Cr\u00e9ez un fichier .env \u00e0 la racine du projet : bash touch .env Ajoutez votre token de tunnel Cloudflare au fichier .env : TUNNEL_TOKEN=<VOTRE_TOKEN_DE_TUNNEL_CLOUDFLARE> Remplacez <VOTRE_TOKEN_DE_TUNNEL_CLOUDFLARE> par le token que vous obtiendrez \u00e0 l'\u00e9tape suivante.","title":"1. Cr\u00e9er le fichier .env"},{"location":"configuration_cloudflare/#2-creer-le-tunnel-cloudflare","text":"Sur le dashboard Cloudflare, assurez-vous que votre domaine (ex. votredomaine.com ) est g\u00e9r\u00e9 par Cloudflare. Rendez-vous dans Zero Trust \u2192 Networks \u2192 Tunnels puis Add a tunnel / Create a tunnel . Choisissez Docker comme m\u00e9thode d\u2019installation. Copiez le token fourni (il ressemble \u00e0 ey... ). C'est votre TUNNEL_TOKEN . Collez-le dans votre fichier .env . Dans la section Public Hostnames , cr\u00e9ez un enregistrement : Subdomain : traccar (ou ce que vous pr\u00e9f\u00e9rez). Domain : Votre domaine. Service : HTTP et http://traccar:8082 . Enregistrez le tunnel.","title":"2. Cr\u00e9er le tunnel Cloudflare"},{"location":"configuration_cloudflare/#3-demarrer-les-services","text":"Si ce n'est pas d\u00e9j\u00e0 fait, d\u00e9marrez la stack Docker : sudo docker-compose up -d Le conteneur cloudflared devrait maintenant d\u00e9marrer et \u00e9tablir la connexion avec Cloudflare.","title":"3. D\u00e9marrer les services"},{"location":"configuration_cloudflare/#4-acceder-a-traccar","text":"Une fois que cloudflared est en cours d'ex\u00e9cution, vous pouvez acc\u00e9der \u00e0 l'interface de Traccar via l'URL que vous avez configur\u00e9e (par exemple, https://traccar.votredomaine.com ).","title":"4. Acc\u00e9der \u00e0 Traccar"},{"location":"configuration_cloudflare/#notes-utiles","text":"Vous pouvez retirer le mapping de port 8082:8082 du service traccar dans docker-compose.yml pour n'exposer Traccar qu'\u00e0 travers le tunnel Cloudflare. Pour ajouter d'autres services, vous pouvez ajouter des \"Public Hostnames\" \u00e0 votre tunnel.","title":"Notes utiles"},{"location":"creation_carte_sim_hologram/","text":"Cr\u00e9ation de carte SIM - Hologram","title":"Cr\u00e9ation de carte SIM - Hologram"},{"location":"creation_carte_sim_hologram/#creation-de-carte-sim-hologram","text":"","title":"Cr\u00e9ation de carte SIM - Hologram"},{"location":"fabrication_traceur_gps/","text":"Fabrication du traceur GPS","title":"Fabrication du traceur GPS"},{"location":"fabrication_traceur_gps/#fabrication-du-traceur-gps","text":"","title":"Fabrication du traceur GPS"},{"location":"installation_vehicule/","text":"Installation dans le v\u00e9hicule","title":"Installation dans le v\u00e9hicule"},{"location":"installation_vehicule/#installation-dans-le-vehicule","text":"","title":"Installation dans le v\u00e9hicule"},{"location":"programmation_liligo_a7670g/","text":"Code GPS Tracker - LilyGo A7670G pour Traccar Ce dossier contient le code Arduino pour le module LilyGo A7670G afin d'envoyer les donn\u00e9es GPS au serveur Traccar. \ud83d\udccb Fonctionnalit\u00e9s \u2705 Envoi automatique des donn\u00e9es GPS toutes les 2 minutes \u2705 Serveur Traccar: serveur1d.trackteur.cc:5055 \u2705 Logique de retry avec 3 tentatives en cas d'\u00e9chec \u2705 Sauvegarde automatique sur carte SD si l'envoi \u00e9choue \u2705 Mode veille pour \u00e9conomiser la batterie \u2705 Support GPS/GLONASS/BeiDou/Galileo \u2705 Format CSV pour les donn\u00e9es sauvegard\u00e9es \ud83d\udd27 Pr\u00e9requis Mat\u00e9riel LilyGo T-A7670G (avec GPS int\u00e9gr\u00e9) Carte SIM avec donn\u00e9es mobiles actives Carte microSD (optionnel, pour backup) Antenne GPS Antenne 4G/LTE Logiciel Arduino IDE 1.8.x ou 2.x Biblioth\u00e8que TinyGSM (version fork LilyGo) ESP32 Board Support Package \ud83d\udce6 Installation 1. Installation de l'Arduino IDE T\u00e9l\u00e9chargez et installez Arduino IDE depuis arduino.cc 2. Installation du support ESP32 Ouvrez Arduino IDE Allez dans File > Preferences Dans \"Additional Board Manager URLs\", ajoutez: https://raw.githubusercontent.com/espressif/arduino-esp32/gh-pages/package_esp32_index.json Allez dans Tools > Board > Boards Manager Recherchez \"ESP32\" et installez \"esp32 by Espressif Systems\" 3. Installation de la biblioth\u00e8que TinyGSM \u26a0\ufe0f IMPORTANT : Utilisez la version fork de LilyGo, pas la version standard! T\u00e9l\u00e9chargez le d\u00e9p\u00f4t: https://github.com/Xinyuan-LilyGO/LilyGO-T-A76XX Copiez tous les dossiers du r\u00e9pertoire lib vers le dossier Arduino libraries: Windows: C:\\Users\\[VotreNom]\\Documents\\Arduino\\libraries\\ Mac: ~/Documents/Arduino/libraries/ Linux: ~/Arduino/libraries/ Les biblioth\u00e8ques n\u00e9cessaires sont: - TinyGSM (fork LilyGo) - StreamDebugger (si DUMP_AT_COMMANDS est activ\u00e9) 4. Configuration du code Ouvrez le fichier TraccarGPS.ino et modifiez les param\u00e8tres suivants: // ID unique de votre appareil (OBLIGATOIRE) const char *client_id = \"DEVICE_ID_001\"; // Remplacez par un ID unique // URL du serveur Traccar (d\u00e9j\u00e0 configur\u00e9) const char *request_url = \"http://serveur1d.trackteur.cc:5055\"; // APN de votre op\u00e9rateur (si n\u00e9cessaire) // D\u00e9commentez et modifiez selon votre op\u00e9rateur: // #define NETWORK_APN \"internet\" // Orange/Sosh // #define NETWORK_APN \"free\" // Free Mobile // #define NETWORK_APN \"sl2sfr\" // SFR // #define NETWORK_APN \"mmsbouygtel.com\" // Bouygues 5. Configuration de la carte dans Arduino IDE Connectez la carte LilyGo A7670G via USB Dans Arduino IDE: Tools > Board > ESP32 Arduino > ESP32 Dev Module Tools > Port > S\u00e9lectionnez le port COM correspondant Tools > Upload Speed > 115200 Tools > Flash Size > 4MB (32Mb) Tools > Partition Scheme > Default 4MB with spiffs 6. Compilation et t\u00e9l\u00e9versement V\u00e9rifiez le code: Cliquez sur \u2713 (Verify) T\u00e9l\u00e9versez: Cliquez sur \u2192 (Upload) Ouvrez le moniteur s\u00e9rie: Tools > Serial Monitor Configurez le baud rate \u00e0 115200 \ud83d\udcca Format des donn\u00e9es Donn\u00e9es envoy\u00e9es \u00e0 Traccar Le code envoie les donn\u00e9es au format Traccar OsmAnd protocol: http://serveur1d.trackteur.cc:5055/?id=DEVICE_ID&lat=48.8566&lon=2.3522&speed=15.5&altitude=35.2&bearing=270&timestamp=2025-12-08T10:30:00Z&hdop=1.2&batt=100 Donn\u00e9es sauvegard\u00e9es sur SD (CSV) Format du fichier gps_data.csv : timestamp,latitude,longitude,speed,altitude,bearing,hdop 2025-12-08 10:30:00,48.8566000,2.3522000,15.50,35.20,270.00,1.20 \ud83d\udd0d Diagnostic LED de statut LED allum\u00e9e: GPS en cours de lecture LED \u00e9teinte: Mode veille Moniteur s\u00e9rie Le moniteur s\u00e9rie affiche: - \u00c9tat du modem (d\u00e9marrage, enregistrement r\u00e9seau) - \u00c9tat de la carte SIM - Qualit\u00e9 du signal - Donn\u00e9es GPS re\u00e7ues - R\u00e9sultat des envois HTTP - Sauvegarde sur SD Messages d'erreur courants Erreur Solution No SD card attached V\u00e9rifiez que la carte SD est bien ins\u00e9r\u00e9e Network registration denied V\u00e9rifiez l'APN et que la carte SIM a un forfait data actif HTTP request failed! Error code: XXX V\u00e9rifiez la connexion r\u00e9seau et l'URL du serveur GPS fix not available Placez l'antenne GPS \u00e0 l'ext\u00e9rieur ou pr\u00e8s d'une fen\u00eatre SIM card locked D\u00e9verrouillez la carte SIM (retirez le code PIN) \ud83d\udce1 Configuration Traccar Ajout de l'appareil sur le serveur Connectez-vous \u00e0 votre serveur Traccar: http://serveur1d.trackteur.cc Allez dans Settings > Devices > Add Device Configurez: Name : Nom de votre tracker Identifier : L'ID que vous avez mis dans client_id (ex: DEVICE_ID_001) Group : (optionnel) Cliquez sur Add V\u00e9rification de la r\u00e9ception Dans Traccar, s\u00e9lectionnez votre appareil Vous devriez voir la position mise \u00e0 jour toutes les 2 minutes Consultez les logs pour voir les donn\u00e9es re\u00e7ues \u26a1 Consommation d'\u00e9nergie Lecture GPS + Envoi : ~350-500 mA Mode veille : ~2-3 mA Cycle complet (2 min) : Moyenne ~5-10 mA \ud83d\udca1 Pour une batterie de 3000 mAh, autonomie estim\u00e9e: 12-25 jours \ud83d\udee0\ufe0f Personnalisation Modifier l'intervalle d'envoi #define REPORT_LOCATION_RATE_SECOND 120 // 120 = 2 minutes Modifier le nombre de retry #define MAX_RETRY_ATTEMPTS 3 // Nombre de tentatives D\u00e9sactiver la sauvegarde SD #define USE_SD_CARD false Activer le debug AT D\u00e9commentez pour voir toutes les commandes AT: #define DUMP_AT_COMMANDS \ud83d\udcdd Structure du projet code/ \u251c\u2500\u2500 README.md # Ce fichier \u2514\u2500\u2500 TraccarGPS/ \u251c\u2500\u2500 TraccarGPS.ino # Code principal \u2514\u2500\u2500 utilities.h # Configuration des pins \ud83d\udd12 S\u00e9curit\u00e9 \u26a0\ufe0f Important : - Ne partagez pas votre client_id publiquement - Utilisez un ID unique pour chaque appareil - Changez les identifiants par d\u00e9faut \ud83c\udd98 Support Pour obtenir de l'aide: 1. V\u00e9rifiez les messages du moniteur s\u00e9rie 2. Consultez la documentation LilyGo: https://github.com/Xinyuan-LilyGO/LilyGO-T-A76XX 3. Documentation Traccar: https://www.traccar.org/osmand/ \ud83d\udcc4 Licence MIT License - Libre d'utilisation et de modification \ud83d\udd04 Changelog Version 1.0 (2025-12-08) Envoi initial vers serveur1d.trackteur.cc Support carte SD avec sauvegarde CSV Logique de retry (3 tentatives) Intervalle de 2 minutes Mode veille pour \u00e9conomie d'\u00e9nergie","title":"Programmation du Liligo A7670G"},{"location":"programmation_liligo_a7670g/#code-gps-tracker-lilygo-a7670g-pour-traccar","text":"Ce dossier contient le code Arduino pour le module LilyGo A7670G afin d'envoyer les donn\u00e9es GPS au serveur Traccar.","title":"Code GPS Tracker - LilyGo A7670G pour Traccar"},{"location":"programmation_liligo_a7670g/#fonctionnalites","text":"\u2705 Envoi automatique des donn\u00e9es GPS toutes les 2 minutes \u2705 Serveur Traccar: serveur1d.trackteur.cc:5055 \u2705 Logique de retry avec 3 tentatives en cas d'\u00e9chec \u2705 Sauvegarde automatique sur carte SD si l'envoi \u00e9choue \u2705 Mode veille pour \u00e9conomiser la batterie \u2705 Support GPS/GLONASS/BeiDou/Galileo \u2705 Format CSV pour les donn\u00e9es sauvegard\u00e9es","title":"\ud83d\udccb Fonctionnalit\u00e9s"},{"location":"programmation_liligo_a7670g/#prerequis","text":"","title":"\ud83d\udd27 Pr\u00e9requis"},{"location":"programmation_liligo_a7670g/#materiel","text":"LilyGo T-A7670G (avec GPS int\u00e9gr\u00e9) Carte SIM avec donn\u00e9es mobiles actives Carte microSD (optionnel, pour backup) Antenne GPS Antenne 4G/LTE","title":"Mat\u00e9riel"},{"location":"programmation_liligo_a7670g/#logiciel","text":"Arduino IDE 1.8.x ou 2.x Biblioth\u00e8que TinyGSM (version fork LilyGo) ESP32 Board Support Package","title":"Logiciel"},{"location":"programmation_liligo_a7670g/#installation","text":"","title":"\ud83d\udce6 Installation"},{"location":"programmation_liligo_a7670g/#1-installation-de-larduino-ide","text":"T\u00e9l\u00e9chargez et installez Arduino IDE depuis arduino.cc","title":"1. Installation de l'Arduino IDE"},{"location":"programmation_liligo_a7670g/#2-installation-du-support-esp32","text":"Ouvrez Arduino IDE Allez dans File > Preferences Dans \"Additional Board Manager URLs\", ajoutez: https://raw.githubusercontent.com/espressif/arduino-esp32/gh-pages/package_esp32_index.json Allez dans Tools > Board > Boards Manager Recherchez \"ESP32\" et installez \"esp32 by Espressif Systems\"","title":"2. Installation du support ESP32"},{"location":"programmation_liligo_a7670g/#3-installation-de-la-bibliotheque-tinygsm","text":"\u26a0\ufe0f IMPORTANT : Utilisez la version fork de LilyGo, pas la version standard! T\u00e9l\u00e9chargez le d\u00e9p\u00f4t: https://github.com/Xinyuan-LilyGO/LilyGO-T-A76XX Copiez tous les dossiers du r\u00e9pertoire lib vers le dossier Arduino libraries: Windows: C:\\Users\\[VotreNom]\\Documents\\Arduino\\libraries\\ Mac: ~/Documents/Arduino/libraries/ Linux: ~/Arduino/libraries/ Les biblioth\u00e8ques n\u00e9cessaires sont: - TinyGSM (fork LilyGo) - StreamDebugger (si DUMP_AT_COMMANDS est activ\u00e9)","title":"3. Installation de la biblioth\u00e8que TinyGSM"},{"location":"programmation_liligo_a7670g/#4-configuration-du-code","text":"Ouvrez le fichier TraccarGPS.ino et modifiez les param\u00e8tres suivants: // ID unique de votre appareil (OBLIGATOIRE) const char *client_id = \"DEVICE_ID_001\"; // Remplacez par un ID unique // URL du serveur Traccar (d\u00e9j\u00e0 configur\u00e9) const char *request_url = \"http://serveur1d.trackteur.cc:5055\"; // APN de votre op\u00e9rateur (si n\u00e9cessaire) // D\u00e9commentez et modifiez selon votre op\u00e9rateur: // #define NETWORK_APN \"internet\" // Orange/Sosh // #define NETWORK_APN \"free\" // Free Mobile // #define NETWORK_APN \"sl2sfr\" // SFR // #define NETWORK_APN \"mmsbouygtel.com\" // Bouygues","title":"4. Configuration du code"},{"location":"programmation_liligo_a7670g/#5-configuration-de-la-carte-dans-arduino-ide","text":"Connectez la carte LilyGo A7670G via USB Dans Arduino IDE: Tools > Board > ESP32 Arduino > ESP32 Dev Module Tools > Port > S\u00e9lectionnez le port COM correspondant Tools > Upload Speed > 115200 Tools > Flash Size > 4MB (32Mb) Tools > Partition Scheme > Default 4MB with spiffs","title":"5. Configuration de la carte dans Arduino IDE"},{"location":"programmation_liligo_a7670g/#6-compilation-et-televersement","text":"V\u00e9rifiez le code: Cliquez sur \u2713 (Verify) T\u00e9l\u00e9versez: Cliquez sur \u2192 (Upload) Ouvrez le moniteur s\u00e9rie: Tools > Serial Monitor Configurez le baud rate \u00e0 115200","title":"6. Compilation et t\u00e9l\u00e9versement"},{"location":"programmation_liligo_a7670g/#format-des-donnees","text":"","title":"\ud83d\udcca Format des donn\u00e9es"},{"location":"programmation_liligo_a7670g/#donnees-envoyees-a-traccar","text":"Le code envoie les donn\u00e9es au format Traccar OsmAnd protocol: http://serveur1d.trackteur.cc:5055/?id=DEVICE_ID&lat=48.8566&lon=2.3522&speed=15.5&altitude=35.2&bearing=270&timestamp=2025-12-08T10:30:00Z&hdop=1.2&batt=100","title":"Donn\u00e9es envoy\u00e9es \u00e0 Traccar"},{"location":"programmation_liligo_a7670g/#donnees-sauvegardees-sur-sd-csv","text":"Format du fichier gps_data.csv : timestamp,latitude,longitude,speed,altitude,bearing,hdop 2025-12-08 10:30:00,48.8566000,2.3522000,15.50,35.20,270.00,1.20","title":"Donn\u00e9es sauvegard\u00e9es sur SD (CSV)"},{"location":"programmation_liligo_a7670g/#diagnostic","text":"","title":"\ud83d\udd0d Diagnostic"},{"location":"programmation_liligo_a7670g/#led-de-statut","text":"LED allum\u00e9e: GPS en cours de lecture LED \u00e9teinte: Mode veille","title":"LED de statut"},{"location":"programmation_liligo_a7670g/#moniteur-serie","text":"Le moniteur s\u00e9rie affiche: - \u00c9tat du modem (d\u00e9marrage, enregistrement r\u00e9seau) - \u00c9tat de la carte SIM - Qualit\u00e9 du signal - Donn\u00e9es GPS re\u00e7ues - R\u00e9sultat des envois HTTP - Sauvegarde sur SD","title":"Moniteur s\u00e9rie"},{"location":"programmation_liligo_a7670g/#messages-derreur-courants","text":"Erreur Solution No SD card attached V\u00e9rifiez que la carte SD est bien ins\u00e9r\u00e9e Network registration denied V\u00e9rifiez l'APN et que la carte SIM a un forfait data actif HTTP request failed! Error code: XXX V\u00e9rifiez la connexion r\u00e9seau et l'URL du serveur GPS fix not available Placez l'antenne GPS \u00e0 l'ext\u00e9rieur ou pr\u00e8s d'une fen\u00eatre SIM card locked D\u00e9verrouillez la carte SIM (retirez le code PIN)","title":"Messages d'erreur courants"},{"location":"programmation_liligo_a7670g/#configuration-traccar","text":"","title":"\ud83d\udce1 Configuration Traccar"},{"location":"programmation_liligo_a7670g/#ajout-de-lappareil-sur-le-serveur","text":"Connectez-vous \u00e0 votre serveur Traccar: http://serveur1d.trackteur.cc Allez dans Settings > Devices > Add Device Configurez: Name : Nom de votre tracker Identifier : L'ID que vous avez mis dans client_id (ex: DEVICE_ID_001) Group : (optionnel) Cliquez sur Add","title":"Ajout de l'appareil sur le serveur"},{"location":"programmation_liligo_a7670g/#verification-de-la-reception","text":"Dans Traccar, s\u00e9lectionnez votre appareil Vous devriez voir la position mise \u00e0 jour toutes les 2 minutes Consultez les logs pour voir les donn\u00e9es re\u00e7ues","title":"V\u00e9rification de la r\u00e9ception"},{"location":"programmation_liligo_a7670g/#consommation-denergie","text":"Lecture GPS + Envoi : ~350-500 mA Mode veille : ~2-3 mA Cycle complet (2 min) : Moyenne ~5-10 mA \ud83d\udca1 Pour une batterie de 3000 mAh, autonomie estim\u00e9e: 12-25 jours","title":"\u26a1 Consommation d'\u00e9nergie"},{"location":"programmation_liligo_a7670g/#personnalisation","text":"","title":"\ud83d\udee0\ufe0f Personnalisation"},{"location":"programmation_liligo_a7670g/#modifier-lintervalle-denvoi","text":"#define REPORT_LOCATION_RATE_SECOND 120 // 120 = 2 minutes","title":"Modifier l'intervalle d'envoi"},{"location":"programmation_liligo_a7670g/#modifier-le-nombre-de-retry","text":"#define MAX_RETRY_ATTEMPTS 3 // Nombre de tentatives","title":"Modifier le nombre de retry"},{"location":"programmation_liligo_a7670g/#desactiver-la-sauvegarde-sd","text":"#define USE_SD_CARD false","title":"D\u00e9sactiver la sauvegarde SD"},{"location":"programmation_liligo_a7670g/#activer-le-debug-at","text":"D\u00e9commentez pour voir toutes les commandes AT: #define DUMP_AT_COMMANDS","title":"Activer le debug AT"},{"location":"programmation_liligo_a7670g/#structure-du-projet","text":"code/ \u251c\u2500\u2500 README.md # Ce fichier \u2514\u2500\u2500 TraccarGPS/ \u251c\u2500\u2500 TraccarGPS.ino # Code principal \u2514\u2500\u2500 utilities.h # Configuration des pins","title":"\ud83d\udcdd Structure du projet"},{"location":"programmation_liligo_a7670g/#securite","text":"\u26a0\ufe0f Important : - Ne partagez pas votre client_id publiquement - Utilisez un ID unique pour chaque appareil - Changez les identifiants par d\u00e9faut","title":"\ud83d\udd12 S\u00e9curit\u00e9"},{"location":"programmation_liligo_a7670g/#support","text":"Pour obtenir de l'aide: 1. V\u00e9rifiez les messages du moniteur s\u00e9rie 2. Consultez la documentation LilyGo: https://github.com/Xinyuan-LilyGO/LilyGO-T-A76XX 3. Documentation Traccar: https://www.traccar.org/osmand/","title":"\ud83c\udd98 Support"},{"location":"programmation_liligo_a7670g/#licence","text":"MIT License - Libre d'utilisation et de modification","title":"\ud83d\udcc4 Licence"},{"location":"programmation_liligo_a7670g/#changelog","text":"","title":"\ud83d\udd04 Changelog"},{"location":"programmation_liligo_a7670g/#version-10-2025-12-08","text":"Envoi initial vers serveur1d.trackteur.cc Support carte SD avec sauvegarde CSV Logique de retry (3 tentatives) Intervalle de 2 minutes Mode veille pour \u00e9conomie d'\u00e9nergie","title":"Version 1.0 (2025-12-08)"}]}